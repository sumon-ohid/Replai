import{j as e,A as U}from"./index-CjbP8wZQ.js";import{S as w,A as C,H as A,D as I}from"./Footer-CMxhyB-Y.js";import{t as z,d as S,a as $,c as W}from"./treeView-CWPmmv9z.js";import{r as x}from"./react-vendor-CegxkP7k.js";import{a as N}from"./utils-DohQasZF.js";import{r as R,f as v,w as o,aa as D,a7 as n,T as i,C as E,ac as y,q as M,I as T,B as F,aL as P,al as L,au as H,k as Z,d as G,aM as Y,a6 as q,a9 as K,ae as O,af as Q}from"./mui-core-z5vaI-Hz.js";import{b1 as X,b2 as J,E as j,b3 as _,aE as ee,a8 as se,b4 as te,b5 as oe}from"./mui-icons-D7yA8AqE.js";import{A as re,m as h}from"./animations-DFv3qG-P.js";import"./ColorModeIconDropdown-0ck4NUg6.js";import"./mui-BKcTmHCX.js";import"./data-grid-BAJ3yR7o.js";const k="https://replai.tech";function ae(){const[l,a]=x.useState([]),[c,b]=x.useState(""),[p,m]=x.useState(""),t=R(),d=t.palette.mode==="dark";x.useEffect(()=>{(async()=>{try{const r=localStorage.getItem("token"),u=await N.get(`${k}/api/blocklist`,{headers:{Authorization:`Bearer ${r}`}});a(u.data)}catch(r){console.error("Error fetching block list:",r)}})()},[]);const g=s=>{const r=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,u=/^@?(\*\.)?[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.[a-zA-Z]{2,}$/;return s.trim()===""?"Entry cannot be empty":!r.test(s)&&!u.test(s)?"Invalid email or domain format":l.includes(s)?"Entry already exists":null},B=async()=>{const s=g(c);if(s){m(s);return}try{const r=localStorage.getItem("token");await N.post(`${k}/api/blocklist`,{entry:c},{headers:{Authorization:`Bearer ${r}`}}),a([...l,c]),b(""),m("")}catch(r){console.error("Error adding new entry:",r)}},V=async s=>{try{const r=localStorage.getItem("token");await N.delete(`${k}/api/blocklist`,{headers:{Authorization:`Bearer ${r}`},params:{entry:s}}),a(l.filter(u=>u!==s))}catch(r){console.error("Error deleting entry:",r)}},f=s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s);return e.jsxDEV(v,{elevation:0,sx:{position:"relative",overflowX:"hidden",bgcolor:d?o(t.palette.background.paper,.6):t.palette.background.paper,p:{xs:2,sm:1},borderRadius:3},children:[e.jsxDEV(D,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:3,children:[e.jsxDEV(n,{children:[e.jsxDEV(i,{variant:"h5",fontWeight:700,gutterBottom:!0,children:"Block List"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/BlockListData.tsx",lineNumber:111,columnNumber:11},this),e.jsxDEV(i,{variant:"body2",color:"text.secondary",children:"Block unwanted emails or entire domains from reaching your inbox"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/BlockListData.tsx",lineNumber:114,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/BlockListData.tsx",lineNumber:110,columnNumber:9},this),e.jsxDEV(E,{label:`${l.length} ${l.length===1?"entry":"entries"}`,color:"primary",variant:"outlined",icon:e.jsxDEV(X,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/BlockListData.tsx",lineNumber:122,columnNumber:17},this),sx:{fontWeight:500}},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/BlockListData.tsx",lineNumber:118,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/BlockListData.tsx",lineNumber:109,columnNumber:7},this),e.jsxDEV(v,{elevation:0,sx:{p:3,mb:4,borderRadius:3,border:`1px solid ${o(t.palette.divider,.8)}`,bgcolor:d?o(t.palette.background.paper,.3):o(t.palette.background.paper,1)},children:[e.jsxDEV(i,{variant:"subtitle1",fontWeight:600,mb:2,sx:{display:"flex",alignItems:"center"},children:["Add New Block Entry",e.jsxDEV(y,{title:"Add email addresses or domains to block. Use * for wildcard domains (e.g., *.example.com)",children:e.jsxDEV(J,{sx:{ml:1,fontSize:18,color:"text.secondary"}},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/BlockListData.tsx",lineNumber:143,columnNumber:13},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/BlockListData.tsx",lineNumber:142,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/BlockListData.tsx",lineNumber:140,columnNumber:9},this),e.jsxDEV(D,{direction:{xs:"column",sm:"row"},spacing:2,children:[e.jsxDEV(M,{fullWidth:!0,variant:"outlined",value:c,placeholder:"Enter email address or domain to block",error:!!p,onChange:s=>{b(s.target.value),s.target.value&&m(g(s.target.value)||"")},onKeyPress:s=>s.key==="Enter"&&B(),InputProps:{startAdornment:e.jsxDEV(T,{position:"start",children:e.jsxDEV(j,{fontSize:"small",color:"action"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/BlockListData.tsx",lineNumber:162,columnNumber:19},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/BlockListData.tsx",lineNumber:161,columnNumber:17},this)},sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/BlockListData.tsx",lineNumber:148,columnNumber:11},this),e.jsxDEV(F,{variant:"contained",startIcon:e.jsxDEV(_,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/BlockListData.tsx",lineNumber:174,columnNumber:24},this),onClick:B,disableElevation:!0,sx:{borderRadius:2,px:3,textTransform:"none",fontWeight:600,whiteSpace:"nowrap"},children:"Block Entry"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/BlockListData.tsx",lineNumber:172,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/BlockListData.tsx",lineNumber:147,columnNumber:9},this),e.jsxDEV(P,{in:!!p,children:e.jsxDEV(L,{severity:"error",sx:{mt:2,borderRadius:2},variant:"outlined",children:p},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/BlockListData.tsx",lineNumber:190,columnNumber:11},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/BlockListData.tsx",lineNumber:189,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/BlockListData.tsx",lineNumber:128,columnNumber:7},this),l.length>0?e.jsxDEV(re,{children:e.jsxDEV(n,{component:h.div,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},sx:{borderRadius:3,overflow:"hidden",border:`1px solid ${o(t.palette.divider,.7)}`,bgcolor:d?"transparent":o(t.palette.background.default,.5)},children:l.map((s,r)=>e.jsxDEV(n,{component:h.div,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:2.5,borderBottom:r<l.length-1?`1px solid ${o(t.palette.divider,.5)}`:"none","&:hover":{bgcolor:d?o(t.palette.action.hover,.1):o(t.palette.action.hover,.3)},transition:"background-color 0.2s ease"},children:[e.jsxDEV(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsxDEV(H,{sx:{width:36,height:36,bgcolor:f(s)?o(t.palette.error.main,d?.2:.1):o(t.palette.warning.main,d?.2:.1),color:f(s)?t.palette.error.main:t.palette.warning.main},children:f(s)?e.jsxDEV(j,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/BlockListData.tsx",lineNumber:252,columnNumber:46},this):e.jsxDEV(ee,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/BlockListData.tsx",lineNumber:252,columnNumber:58},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/BlockListData.tsx",lineNumber:240,columnNumber:19},this),e.jsxDEV(n,{children:[e.jsxDEV(i,{variant:"body2",fontWeight:500,fontFamily:"monospace",sx:{fontSize:"0.95rem",color:t.palette.text.primary},children:s},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/BlockListData.tsx",lineNumber:255,columnNumber:21},this),e.jsxDEV(i,{variant:"caption",color:"text.secondary",children:f(s)?"Email Address":"Domain"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/BlockListData.tsx",lineNumber:266,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/BlockListData.tsx",lineNumber:254,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/BlockListData.tsx",lineNumber:239,columnNumber:17},this),e.jsxDEV(y,{title:"Remove from block list",children:e.jsxDEV(Z,{onClick:()=>V(s),sx:{color:"text.secondary","&:hover":{color:t.palette.error.main,bgcolor:o(t.palette.error.main,.1)}},children:e.jsxDEV(se,{fontSize:"small"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/BlockListData.tsx",lineNumber:282,columnNumber:21},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/BlockListData.tsx",lineNumber:272,columnNumber:19},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/BlockListData.tsx",lineNumber:271,columnNumber:17},this)]},s,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/BlockListData.tsx",lineNumber:218,columnNumber:15},this))},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/BlockListData.tsx",lineNumber:203,columnNumber:11},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/BlockListData.tsx",lineNumber:202,columnNumber:9},this):e.jsxDEV(n,{component:h.div,initial:{opacity:0},animate:{opacity:1},sx:{py:5,textAlign:"center",border:`1px dashed ${o(t.palette.divider,.8)}`,borderRadius:3,bgcolor:o(t.palette.background.default,.4)},children:[e.jsxDEV(j,{sx:{fontSize:48,color:o(t.palette.text.secondary,.5),mb:2}},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/BlockListData.tsx",lineNumber:302,columnNumber:11},this),e.jsxDEV(i,{variant:"h6",color:"text.secondary",fontWeight:500,children:"No Blocked Entries"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/BlockListData.tsx",lineNumber:309,columnNumber:11},this),e.jsxDEV(i,{variant:"body2",color:"text.secondary",sx:{mt:1,maxWidth:400,mx:"auto"},children:"Your block list is empty. Add email addresses or domains above to prevent them from reaching your inbox."},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/BlockListData.tsx",lineNumber:312,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/BlockListData.tsx",lineNumber:290,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/BlockListData.tsx",lineNumber:98,columnNumber:5},this)}const ie={...W,...$,...S,...z},ne={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.1}}},le={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:260,damping:20}}};function ke(l){const a=R(),c=G(a.breakpoints.down("sm")),b=a.palette.mode==="dark",p=a.palette.primary.main,m=a.palette.secondary.main;return`${p}${a.palette.mode==="dark"?Y(m,.1):m}`,e.jsxDEV(U,{...l,themeComponents:ie,children:[e.jsxDEV(q,{enableColorScheme:!0},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/BlockList.tsx",lineNumber:85,columnNumber:7},this),e.jsxDEV(n,{sx:{display:"flex"},children:[e.jsxDEV(w,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/BlockList.tsx",lineNumber:87,columnNumber:9},this),e.jsxDEV(C,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/BlockList.tsx",lineNumber:88,columnNumber:9},this),e.jsxDEV(n,{component:"main",sx:t=>({flexGrow:1,backgroundColor:o(t.palette.background.default,1),overflow:"auto",minHeight:"100vh"}),children:[e.jsxDEV(D,{spacing:2,sx:{alignItems:"center",mx:{xs:2,sm:3},pb:2,mt:{xs:8,md:0},mb:{xs:2,sm:3}},children:e.jsxDEV(A,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/BlockList.tsx",lineNumber:109,columnNumber:13},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/BlockList.tsx",lineNumber:99,columnNumber:11},this),e.jsxDEV(K,{maxWidth:"xl",children:e.jsxDEV(n,{component:h.div,variants:ne,initial:"hidden",animate:"visible",sx:{px:{xs:1,sm:0,md:0},py:3},children:[e.jsxDEV(n,{component:h.div,variants:le,sx:{mb:4},children:[e.jsxDEV(n,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsxDEV(te,{sx:{mr:1.5,fontSize:36,color:a.palette.error.main}},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/BlockList.tsx",lineNumber:132,columnNumber:19},this),e.jsxDEV(i,{variant:c?"h5":"h4",component:"h1",sx:{fontWeight:700,background:"linear-gradient(90deg,rgb(0, 98, 255),rgb(43, 156, 255))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Email Block List"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/BlockList.tsx",lineNumber:139,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/BlockList.tsx",lineNumber:131,columnNumber:17},this),e.jsxDEV(i,{variant:"body1",sx:{color:"text.secondary",mb:2},children:"Manage your email security by adding domains or specific addresses to your block list. Blocked emails will be automatically filtered out of your inbox."},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/BlockList.tsx",lineNumber:153,columnNumber:17},this),e.jsxDEV(v,{elevation:0,sx:{p:2,borderRadius:2,border:`1px solid ${o(a.palette.primary.main,.5)}`,backgroundColor:b?o(a.palette.primary.dark,.1):o(a.palette.primary.light,.1),mb:3},children:e.jsxDEV(L,{severity:"info",variant:"outlined",icon:e.jsxDEV(oe,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/BlockList.tsx",lineNumber:179,columnNumber:27},this),sx:{borderRadius:1.5,"& .MuiAlert-message":{fontSize:"0.9rem"}},children:[e.jsxDEV(i,{variant:"subtitle2",sx:{fontWeight:600},children:"How blocking works:"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/BlockList.tsx",lineNumber:187,columnNumber:21},this),e.jsxDEV(i,{variant:"body2",children:["Email addresses or domains added to your block list won't be able to reach your inbox. You can block entire domains (e.g., ",e.jsxDEV(E,{size:"small",label:"spam.com",sx:{fontSize:"0.75rem",height:22}},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/BlockList.tsx",lineNumber:192,columnNumber:59},this),") or specific addresses (e.g., ",e.jsxDEV(E,{size:"small",label:"user@example.com",sx:{fontSize:"0.75rem",height:22}},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/BlockList.tsx",lineNumber:193,columnNumber:52},this),")."]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/BlockList.tsx",lineNumber:190,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/BlockList.tsx",lineNumber:176,columnNumber:19},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/BlockList.tsx",lineNumber:164,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/BlockList.tsx",lineNumber:126,columnNumber:15},this),e.jsxDEV(O,{elevation:0,children:e.jsxDEV(Q,{sx:{p:0},children:e.jsxDEV(ae,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/BlockList.tsx",lineNumber:203,columnNumber:21},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/BlockList.tsx",lineNumber:202,columnNumber:19},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/BlockList.tsx",lineNumber:201,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/BlockList.tsx",lineNumber:113,columnNumber:13},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/BlockList.tsx",lineNumber:112,columnNumber:11},this),e.jsxDEV(I,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/BlockList.tsx",lineNumber:208,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/BlockList.tsx",lineNumber:90,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/BlockList.tsx",lineNumber:86,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/BlockList.tsx",lineNumber:84,columnNumber:5},this)}export{ke as default};
