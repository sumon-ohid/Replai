import{j as e,A as Is}from"./index-D6clAhfF.js";import{b as _s,r as y,i as ks}from"./react-vendor-CegxkP7k.js";import{a0 as ls,L as ms,e as Rt,a1 as Je,a2 as Ls,b as Ke,a3 as Nt,a4 as cs,a5 as qt,a6 as ds,a7 as Ms,a8 as Os,a9 as zs,aa as Ps,ab as Fs,ac as yt,ad as us,ae as ps,af as $s,ag as hs,ah as fs,ai as Kt,aj as Ws,ak as Hs,$ as Bs,al as Gs,am as Ys,an as Xs,ao as qs,ap as Ks,aq as Zs,ar as Js,as as Qs,at as eo,au as to,E as so,av as oo}from"./mui-icons-3J3qDrS5.js";import{S as ao,A as io,H as no,D as ro}from"./Footer-PtP2vGXG.js";import{t as lo,d as mo,a as co,c as uo}from"./treeView-B3NpKu8F.js";import{r as ce,a7 as p,k as O,T as M,ac as F,B as te,w as q,as as _e,L as Ye,ay as Xe,aw as Ze,ax as De,C as Ct,O as Qe,ar as bs,M as Et,az as xs,d as gt,q as ve,I as jt,i as Zt,au as Se,f as ke,aA as po,aB as ho,aC as fo,aD as bo,av as xo,y as No,A as Eo,D as go,a8 as Ns,aE as jo,ah as vo,aF as Do,a6 as Ro,aa as yo}from"./mui-core-8tQ_ZWW4.js";import{m as fe}from"./animations-CdX5mSaj.js";import{a as Es}from"./utils-DohQasZF.js";import"./ColorModeIconDropdown-CqrFB0ql.js";import"./mui-ByKMMyMc.js";import"./data-grid-DjoWlqXy.js";function Jt({accounts:s,selectedAccount:a,currentFolder:m,unreadCounts:r,onAccountChange:d,onFolderChange:V,onCompose:R,onCloseMobileSidebar:_,isMobile:D,collapsed:j=!1}){const g=ce(),[E,o]=_s.useState(null),n=s.find(h=>h.id===a),i=h=>{o(h.currentTarget)},f=()=>{o(null)},C=h=>{d(h),f()},c=[{id:"inbox",label:"Inbox",icon:e.jsxDEV(ls,{color:m==="inbox"?"primary":"inherit"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:90,columnNumber:9},this),count:r.inbox||0},{id:"drafts",label:"Drafts",icon:e.jsxDEV(ms,{color:m==="drafts"?"primary":"inherit"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:98,columnNumber:9},this),count:r.drafts||0},{id:"sent",label:"Sent",icon:e.jsxDEV(Rt,{color:m==="sent"?"primary":"inherit"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:108,columnNumber:9},this)},{id:"starred",label:"Starred",icon:e.jsxDEV(Je,{color:m==="starred"?"primary":"inherit",sx:{color:m!=="starred"?g.palette.warning.main:void 0}},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:115,columnNumber:9},this),count:r.starred||0},{id:"trash",label:"Trash",icon:e.jsxDEV(Ls,{color:m==="trash"?"primary":"inherit"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:131,columnNumber:9},this)}],I=[{id:"work",name:"Work",color:g.palette.success.main},{id:"personal",name:"Personal",color:g.palette.info.main},{id:"important",name:"Important",color:g.palette.warning.main},{id:"urgent",name:"Urgent",color:g.palette.error.main}];return e.jsxDEV(p,{component:fe.div,initial:{x:D?-300:0,opacity:D?0:1},animate:{x:0,opacity:1},exit:{x:D?-300:0,opacity:D?0:1},transition:{duration:.2},sx:{display:"flex",flexDirection:"column",height:"100%",overflowY:"auto",overflowX:"hidden",border:"1px solid",borderColor:"divider",borderRadius:D?0:2,pt:1,pb:2,px:j?1:2,mr:D?0:1,backgroundColor:"background.default",width:j?"100%":"auto",transition:g.transitions.create("padding",{easing:g.transitions.easing.sharp,duration:g.transitions.duration.standard})},children:[D&&e.jsxDEV(p,{sx:{display:"flex",justifyContent:"flex-end",mb:1},children:e.jsxDEV(O,{onClick:_,size:"small",children:e.jsxDEV(Ke,{fontSize:"small"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:176,columnNumber:13},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:175,columnNumber:11},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:174,columnNumber:9},this),e.jsxDEV(p,{sx:{display:"flex",alignItems:"center",mb:2,backgroundColor:"background.default",borderRadius:2,px:j?.5:2,py:1},children:[!j&&e.jsxDEV(M,{variant:"h6",sx:{flexGrow:1,fontWeight:600,fontSize:"1.1rem"},children:"Mailbox"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:193,columnNumber:11},this),e.jsxDEV(F,{title:"Compose new email",children:e.jsxDEV(te,{variant:"contained",disableElevation:!0,startIcon:!j&&e.jsxDEV(Nt,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:209,columnNumber:38},this),onClick:R,sx:{borderRadius:2,mb:.5,p:1,justifyContent:"center",minWidth:40,px:j?1:2,py:1,textTransform:"none",boxShadow:g.shadows[2],"&:hover":{boxShadow:g.shadows[4]},width:j?40:"auto"},children:j?e.jsxDEV(Nt,{fontSize:"small"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:227,columnNumber:26},this):"Compose"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:206,columnNumber:11},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:205,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:181,columnNumber:7},this),j?e.jsxDEV(F,{title:`${n?.name} (${n?.email})`,placement:"right",children:e.jsxDEV(O,{onClick:i,sx:{p:1,mb:2,width:40,height:40,alignSelf:"center"},children:e.jsxDEV(_e,{sx:{width:28,height:28,bgcolor:g.palette.primary.main,fontSize:"0.9rem",fontWeight:"bold"},children:n?.avatar||n?.name.charAt(0)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:296,columnNumber:13},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:286,columnNumber:11},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:282,columnNumber:9},this):e.jsxDEV(te,{fullWidth:!0,onClick:i,sx:{justifyContent:"flex-start",borderRadius:2,py:1,px:1.5,mb:2,border:"1px solid",borderColor:g.palette.divider,backgroundColor:g.palette.background.paper,"&:hover":{backgroundColor:q(g.palette.primary.main,.04)},textTransform:"none"},children:e.jsxDEV(p,{sx:{display:"flex",alignItems:"center",width:"100%"},children:[e.jsxDEV(_e,{sx:{width:28,height:28,bgcolor:g.palette.primary.main,fontSize:"0.9rem",fontWeight:"bold",mr:1.5},children:n?.avatar||n?.name.charAt(0)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:253,columnNumber:13},this),e.jsxDEV(p,{sx:{flexGrow:1,textAlign:"left"},children:e.jsxDEV(M,{variant:"body2",noWrap:!0,sx:{fontWeight:500,color:"text.primary"},children:n?.email},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:267,columnNumber:15},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:266,columnNumber:13},this),e.jsxDEV(cs,{fontSize:"small",sx:{color:"text.secondary",ml:.5}},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:275,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:252,columnNumber:11},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:234,columnNumber:9},this),e.jsxDEV(Ye,{disablePadding:!0,sx:{mb:2,width:"100%"},children:c.map(h=>e.jsxDEV(F,{title:j?h.label:"",placement:"right",disableHoverListener:!j,children:e.jsxDEV(Xe,{selected:m===h.id,onClick:()=>{V(h.id),D&&_()},sx:{borderRadius:2,mb:.5,py:1,px:j?1:1.5,"&.Mui-selected":{backgroundColor:q(g.palette.primary.main,.1),"&:hover":{backgroundColor:q(g.palette.primary.main,.15)}},justifyContent:j?"center":"flex-start",minWidth:j?40:"auto"},children:[e.jsxDEV(Ze,{sx:{minWidth:j?0:36,color:m===h.id?g.palette.primary.main:"inherit",mr:j?0:void 0},children:h.icon},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:342,columnNumber:15},this),!j&&e.jsxDEV(De,{primary:h.label,primaryTypographyProps:{fontWeight:m===h.id?600:400,color:m===h.id?g.palette.primary.main:"text.primary"}},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:356,columnNumber:17},this),!j&&typeof h.count=="number"&&h.count>0&&e.jsxDEV(Ct,{label:h.count,size:"small",color:m===h.id?"primary":"default",sx:{height:22,fontSize:"0.75rem",fontWeight:600}},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:371,columnNumber:19},this),j&&typeof h.count=="number"&&h.count>0&&e.jsxDEV(p,{sx:{position:"absolute",top:4,right:4,width:18,height:18,borderRadius:"50%",bgcolor:g.palette.primary.main,color:g.palette.primary.contrastText,fontSize:"0.65rem",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center"},children:h.count>9?"9+":h.count},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:387,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:321,columnNumber:13},this)},h.id,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:315,columnNumber:11},this))},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:313,columnNumber:7},this),!j&&e.jsxDEV(Qe,{sx:{my:2}},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:412,columnNumber:22},this),!j&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(M,{variant:"caption",sx:{px:2,py:.5,fontWeight:600,color:"text.secondary",textTransform:"uppercase",letterSpacing:.5},children:"Labels"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:417,columnNumber:11},this),e.jsxDEV(Ye,{disablePadding:!0,children:I.map(h=>e.jsxDEV(Xe,{sx:{borderRadius:2,mb:.5,py:.75,px:1.5},children:[e.jsxDEV(Ze,{sx:{minWidth:36},children:e.jsxDEV(qt,{sx:{color:h.color}},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:443,columnNumber:19},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:442,columnNumber:17},this),e.jsxDEV(De,{primary:h.name,primaryTypographyProps:{fontSize:"0.875rem"}},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:445,columnNumber:17},this)]},`expanded-${h.id}`,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:433,columnNumber:15},this))},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:431,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:416,columnNumber:9},this),j&&e.jsxDEV(Ye,{disablePadding:!0,sx:{mt:1},children:I.map(h=>e.jsxDEV(F,{title:h.name,placement:"right",children:e.jsxDEV(Xe,{sx:{borderRadius:2,mb:.5,p:1,justifyContent:"center",minWidth:40},children:e.jsxDEV(qt,{sx:{color:h.color}},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:476,columnNumber:17},this)},`button-${h.id}`,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:466,columnNumber:15},this)},`collapsed-${h.id}`,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:461,columnNumber:13},this))},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:459,columnNumber:9},this),e.jsxDEV(bs,{anchorEl:E,open:!!E,onClose:f,sx:{"& .MuiPaper-root":{width:250,maxWidth:"100%",borderRadius:2,mt:1}},children:[e.jsxDEV(M,{variant:"subtitle2",sx:{px:2,pt:1.5,pb:1,fontWeight:600},children:"Switch account"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:497,columnNumber:9},this),s.map(h=>e.jsxDEV(Et,{selected:h.id===a,onClick:()=>C(h.id),sx:{py:1,"&.Mui-selected":{backgroundColor:q(g.palette.primary.main,.1),"&:hover":{backgroundColor:q(g.palette.primary.main,.15)}}},children:[e.jsxDEV(xs,{children:e.jsxDEV(_e,{sx:{width:28,height:28,bgcolor:g.palette.primary.main,fontSize:"0.9rem",fontWeight:"bold",mr:1.5},children:h.avatar||h.name.charAt(0)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:525,columnNumber:15},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:524,columnNumber:13},this),e.jsxDEV(De,{primary:h.name,primaryTypographyProps:{fontWeight:h.id===a?600:400},secondary:h.email},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:538,columnNumber:13},this)]},`menu-${h.id}`,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:510,columnNumber:11},this))]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:484,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailSidebar.tsx",lineNumber:145,columnNumber:5},this)}function Co({currentFolder:s,searchTerm:a,onSearchChange:m,onClearSearch:r,onRefresh:d,onMarkAllRead:V,isLoading:R,onToggleSidebar:_,isSidebarCollapsed:D=!1,isFullScreen:j,onToggleFullScreen:g}){const E=ce(),o=gt(E.breakpoints.down("sm")),n=y.useMemo(()=>s.charAt(0).toUpperCase()+s.slice(1),[s]);return e.jsxDEV(p,{sx:{display:"flex",flexDirection:{xs:"row",sm:"row"},alignItems:{xs:"stretch",sm:"center"},justifyContent:"space-between",gap:2,p:2,borderBottom:"1px solid",borderColor:"divider",bgcolor:"background.default"},children:[_&&e.jsxDEV(O,{onClick:_,size:"small",sx:{bgcolor:q(E.palette.mode==="dark"?E.palette.grey[800]:E.palette.grey[50],.6),borderRadius:2,"&:hover":{bgcolor:q(E.palette.mode==="dark"?E.palette.grey[800]:E.palette.grey[50],.8)}},children:D?e.jsxDEV(ds,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailHeader.tsx",lineNumber:94,columnNumber:33},this):e.jsxDEV(Ms,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailHeader.tsx",lineNumber:94,columnNumber:48},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailHeader.tsx",lineNumber:73,columnNumber:9},this),!o&&e.jsxDEV(M,{variant:"h5",sx:{fontWeight:600,color:E.palette.mode==="dark"?E.palette.grey[100]:E.palette.grey[900],flexShrink:0,display:{xs:"none",sm:"none",md:"block"}},children:n},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailHeader.tsx",lineNumber:100,columnNumber:9},this),e.jsxDEV(ve,{placeholder:"Search emails...",variant:"outlined",size:"small",fullWidth:!0,value:a,onChange:m,InputProps:{startAdornment:e.jsxDEV(jt,{position:"start",children:e.jsxDEV(Os,{fontSize:"small",color:"action"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailHeader.tsx",lineNumber:127,columnNumber:15},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailHeader.tsx",lineNumber:126,columnNumber:13},this),endAdornment:a&&e.jsxDEV(jt,{position:"end",children:e.jsxDEV(O,{size:"small",onClick:r,edge:"end","aria-label":"clear search",sx:{height:"80%",p:0},children:e.jsxDEV(Ke,{fontSize:"small"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailHeader.tsx",lineNumber:139,columnNumber:17},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailHeader.tsx",lineNumber:132,columnNumber:15},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailHeader.tsx",lineNumber:131,columnNumber:13},this),sx:{borderRadius:2,bgcolor:E.palette.background.paper}},sx:{flexGrow:1,maxWidth:{xs:"100%",md:400},"& .MuiOutlinedInput-root":{borderRadius:2}}},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailHeader.tsx",lineNumber:117,columnNumber:7},this),e.jsxDEV(p,{sx:{display:"flex",gap:1,flexShrink:0},children:[g&&e.jsxDEV(F,{title:j?"Exit full screen":"Full screen",children:e.jsxDEV(O,{onClick:g,color:"inherit",size:"small",sx:{ml:1},children:j?e.jsxDEV(zs,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailHeader.tsx",lineNumber:173,columnNumber:31},this):e.jsxDEV(Ps,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailHeader.tsx",lineNumber:173,columnNumber:56},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailHeader.tsx",lineNumber:167,columnNumber:13},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailHeader.tsx",lineNumber:166,columnNumber:11},this),e.jsxDEV(F,{title:"Refresh",children:e.jsxDEV(O,{onClick:d,size:"small",sx:{border:"1px solid",borderColor:E.palette.divider,borderRadius:2,bgcolor:E.palette.background.paper,animation:R?"spin 1.5s linear infinite":"none","@keyframes spin":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}},children:e.jsxDEV(Fs,{fontSize:"small"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailHeader.tsx",lineNumber:193,columnNumber:13},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailHeader.tsx",lineNumber:178,columnNumber:11},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailHeader.tsx",lineNumber:177,columnNumber:9},this),s==="inbox"&&e.jsxDEV(te,{variant:"contained",disableElevation:!0,size:"small",startIcon:e.jsxDEV(yt,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailHeader.tsx",lineNumber:202,columnNumber:24},this),onClick:V,sx:{borderRadius:2,textTransform:"none",fontWeight:500,display:{xs:"none",sm:"flex"},"&:hover":{boxShadow:E.shadows[1]}},children:"Mark All Read"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailHeader.tsx",lineNumber:198,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailHeader.tsx",lineNumber:158,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailHeader.tsx",lineNumber:59,columnNumber:5},this)}function wo({emails:s,loading:a,onEmailSelect:m,onToggleStar:r,onToggleRead:d,onDelete:V,searchTerm:R,currentFolder:_,onEmailClick:D,selectedEmailId:j,totalCount:g=0,page:E=0,rowsPerPage:o=20,onPageChange:n,onRowsPerPageChange:i}){const f=ce(),[C,c]=y.useState([]),[I,h]=y.useState(null),[v,k]=y.useState(null),S=y.useCallback(x=>{m?m(x):D&&D(x)},[m,D]),J=(x,w)=>{x.stopPropagation(),k(w),h(x.currentTarget)},u=()=>{h(null),k(null)},L=x=>{const ee=new Date().getTime()-x;return ee<6e4?"Just now":ee<36e5?`${Math.floor(ee/6e4)}m ago`:ee<864e5?`${Math.floor(ee/36e5)}h ago`:ee<6048e5?`${Math.floor(ee/864e5)}d ago`:new Date(x).toLocaleDateString()};return!a&&s.length===0?e.jsxDEV(p,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:4,height:"100%",color:f.palette.text.secondary},children:[e.jsxDEV(p,{component:fe.div,initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},sx:{fontSize:"3rem",mb:2,color:f.palette.action.disabled},children:R?"ðŸ”":_==="inbox"?"ðŸ“­":"ðŸ“ª"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:164,columnNumber:9},this),e.jsxDEV(M,{variant:"h6",gutterBottom:!0,sx:{wordBreak:"break-word",textAlign:"center"},children:R?"No emails found matching your search":`No emails in ${_}`},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:177,columnNumber:9},this),e.jsxDEV(M,{variant:"body2",sx:{wordBreak:"break-word",textAlign:"center"},children:R?"Try using different keywords":_==="inbox"?"Your inbox is empty. Time to celebrate!":`There are no emails in your ${_} folder.`},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:186,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:153,columnNumber:7},this):e.jsxDEV(p,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[e.jsxDEV(p,{sx:{flexGrow:1,overflow:"auto"},children:e.jsxDEV(Ye,{disablePadding:!0,children:a?Array.from(new Array(10)).map((x,w)=>e.jsxDEV(Zt,{disablePadding:!0,divider:!0,children:e.jsxDEV(p,{sx:{width:"100%",display:"flex",py:1,px:2},children:[e.jsxDEV(p,{sx:{display:"flex",alignItems:"center",mr:2,width:24},children:e.jsxDEV(Se,{variant:"circular",width:20,height:20},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:217,columnNumber:23},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:209,columnNumber:21},this),e.jsxDEV(p,{sx:{display:"flex",alignItems:"center",mr:2,width:40},children:e.jsxDEV(Se,{variant:"circular",width:40,height:40},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:227,columnNumber:23},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:219,columnNumber:21},this),e.jsxDEV(p,{sx:{flexGrow:1},children:[e.jsxDEV(Se,{variant:"text",width:"60%",height:24},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:230,columnNumber:23},this),e.jsxDEV(Se,{variant:"text",width:"90%",height:20},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:231,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:229,columnNumber:21},this),e.jsxDEV(p,{sx:{width:100,display:"flex",justifyContent:"flex-end"},children:e.jsxDEV(Se,{variant:"text",width:60,height:20},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:240,columnNumber:23},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:233,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:208,columnNumber:19},this)},w,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:207,columnNumber:17},this)):s.map(x=>e.jsxDEV(Zt,{disablePadding:!0,divider:!0,component:fe.li,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:.2},sx:{bgcolor:x.isRead?"inherit":q(f.palette.primary.light,.08)},children:e.jsxDEV(Xe,{onClick:()=>S(x.id),sx:{py:1.5,px:2,"&:hover":{bgcolor:q(f.palette.primary.light,.05)}},children:[e.jsxDEV(xs,{children:e.jsxDEV(_e,{alt:x.from.name,src:x.from.avatar,sx:{bgcolor:x.isRead?f.palette.mode==="dark"?f.palette.grey[700]:f.palette.grey[400]:f.palette.primary.main,width:40,height:40},children:x.from.name[0].toUpperCase()},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:290,columnNumber:23},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:289,columnNumber:21},this),e.jsxDEV(De,{primary:e.jsxDEV(p,{sx:{display:"flex",alignItems:"center"},children:[e.jsxDEV(M,{variant:"body1",component:"span",sx:{fontWeight:x.isRead?400:600,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:x.isRead?f.palette.text.secondary:f.palette.text.primary},children:_==="sent"?x.to[0].name||x.to[0].email:x.from.name||x.from.email},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:310,columnNumber:27},this),x.hasAttachments&&e.jsxDEV(us,{fontSize:"small",sx:{ml:1,color:f.palette.text.secondary,fontSize:16}},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:329,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:309,columnNumber:25},this),secondary:e.jsxDEV(y.Fragment,{children:[e.jsxDEV(M,{variant:"body2",component:"span",sx:{fontWeight:x.isRead?400:600,color:x.isRead?f.palette.text.secondary:f.palette.text.primary,display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:x.subject},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:342,columnNumber:27},this),e.jsxDEV(M,{variant:"body2",component:"span",sx:{display:"block",color:f.palette.text.secondary,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:x.preview},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:358,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:341,columnNumber:25},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:307,columnNumber:21},this),e.jsxDEV(p,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-end",minWidth:"90px",ml:1},children:[e.jsxDEV(M,{variant:"caption",sx:{color:f.palette.text.secondary,whiteSpace:"nowrap",mb:.5},children:L(x.timestamp)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:384,columnNumber:23},this),e.jsxDEV(p,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsxDEV(O,{size:"small",onClick:w=>{w.stopPropagation(),r(x.id,!x.isStarred)},sx:{p:.5,color:x.isStarred?"warning.main":"inherit"},children:x.isStarred?e.jsxDEV(Je,{fontSize:"small"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:408,columnNumber:29},this):e.jsxDEV(ps,{fontSize:"small"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:410,columnNumber:29},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:396,columnNumber:25},this),e.jsxDEV(O,{size:"small",onClick:w=>J(w,x.id),sx:{p:.5},children:e.jsxDEV($s,{fontSize:"small"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:419,columnNumber:27},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:414,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:395,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:375,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:262,columnNumber:19},this)},x.id,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:247,columnNumber:17},this))},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:203,columnNumber:9},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:202,columnNumber:7},this),!a&&g>0&&n&&i&&e.jsxDEV(ke,{elevation:0,sx:{borderTop:1,borderColor:"divider",borderRadius:0,display:"flex",justifyContent:"flex-end"},children:e.jsxDEV(po,{component:"div",count:g,page:E,onPageChange:n,rowsPerPage:o,onRowsPerPageChange:i,rowsPerPageOptions:[10,20,50,100],sx:{".MuiTablePagination-toolbar":{minHeight:42},".MuiTablePagination-selectLabel, .MuiTablePagination-displayedRows":{fontSize:"0.775rem"}}},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:441,columnNumber:11},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:431,columnNumber:9},this),e.jsxDEV(bs,{anchorEl:I,open:!!I,onClose:u,PaperProps:{elevation:3,sx:{borderRadius:2,minWidth:180,boxShadow:f.shadows[3]}},children:[e.jsxDEV(Et,{onClick:()=>{if(v){const x=s.find(w=>w.id===v);x&&d(v,!x.isRead)}u()},children:[e.jsxDEV(Ze,{children:s.find(x=>x.id===v)?.isRead?e.jsxDEV(hs,{fontSize:"small"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:488,columnNumber:15},this):e.jsxDEV(yt,{fontSize:"small"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:490,columnNumber:15},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:486,columnNumber:11},this),e.jsxDEV(De,{children:s.find(x=>x.id===v)?.isRead?"Mark as unread":"Mark as read"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:493,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:475,columnNumber:9},this),e.jsxDEV(Qe,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:500,columnNumber:9},this),e.jsxDEV(Et,{onClick:()=>{v&&V(v),u()},children:[e.jsxDEV(Ze,{children:e.jsxDEV(fs,{fontSize:"small",color:"error"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:511,columnNumber:13},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:510,columnNumber:11},this),e.jsxDEV(De,{children:"Delete"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:513,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:502,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:462,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailList.tsx",lineNumber:201,columnNumber:5},this)}/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries:gs,setPrototypeOf:Qt,isFrozen:So,getPrototypeOf:Uo,getOwnPropertyDescriptor:Ao}=Object;let{freeze:K,seal:se,create:js}=Object,{apply:vt,construct:Dt}=typeof Reflect<"u"&&Reflect;K||(K=function(a){return a});se||(se=function(a){return a});vt||(vt=function(a,m,r){return a.apply(m,r)});Dt||(Dt=function(a,m){return new a(...m)});const Be=Z(Array.prototype.forEach),Vo=Z(Array.prototype.lastIndexOf),es=Z(Array.prototype.pop),Ue=Z(Array.prototype.push),To=Z(Array.prototype.splice),qe=Z(String.prototype.toLowerCase),pt=Z(String.prototype.toString),ts=Z(String.prototype.match),Ae=Z(String.prototype.replace),Io=Z(String.prototype.indexOf),_o=Z(String.prototype.trim),oe=Z(Object.prototype.hasOwnProperty),X=Z(RegExp.prototype.test),Ve=ko(TypeError);function Z(s){return function(a){for(var m=arguments.length,r=new Array(m>1?m-1:0),d=1;d<m;d++)r[d-1]=arguments[d];return vt(s,a,r)}}function ko(s){return function(){for(var a=arguments.length,m=new Array(a),r=0;r<a;r++)m[r]=arguments[r];return Dt(s,m)}}function U(s,a){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:qe;Qt&&Qt(s,null);let r=a.length;for(;r--;){let d=a[r];if(typeof d=="string"){const V=m(d);V!==d&&(So(a)||(a[r]=V),d=V)}s[d]=!0}return s}function Lo(s){for(let a=0;a<s.length;a++)oe(s,a)||(s[a]=null);return s}function he(s){const a=js(null);for(const[m,r]of gs(s))oe(s,m)&&(Array.isArray(r)?a[m]=Lo(r):r&&typeof r=="object"&&r.constructor===Object?a[m]=he(r):a[m]=r);return a}function Te(s,a){for(;s!==null;){const r=Ao(s,a);if(r){if(r.get)return Z(r.get);if(typeof r.value=="function")return Z(r.value)}s=Uo(s)}function m(){return null}return m}const ss=K(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ht=K(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ft=K(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Mo=K(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),bt=K(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Oo=K(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),os=K(["#text"]),as=K(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),xt=K(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),is=K(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ge=K(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),zo=se(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Po=se(/<%[\w\W]*|[\w\W]*%>/gm),Fo=se(/\$\{[\w\W]*/gm),$o=se(/^data-[\-\w.\u00B7-\uFFFF]+$/),Wo=se(/^aria-[\-\w]+$/),vs=se(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ho=se(/^(?:\w+script|data):/i),Bo=se(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ds=se(/^html$/i),Go=se(/^[a-z][.\w]*(-[.\w]+)+$/i);var ns=Object.freeze({__proto__:null,ARIA_ATTR:Wo,ATTR_WHITESPACE:Bo,CUSTOM_ELEMENT:Go,DATA_ATTR:$o,DOCTYPE_NAME:Ds,ERB_EXPR:Po,IS_ALLOWED_URI:vs,IS_SCRIPT_OR_DATA:Ho,MUSTACHE_EXPR:zo,TMPLIT_EXPR:Fo});const Ie={element:1,text:3,progressingInstruction:7,comment:8,document:9},Yo=function(){return typeof window>"u"?null:window},Xo=function(a,m){if(typeof a!="object"||typeof a.createPolicy!="function")return null;let r=null;const d="data-tt-policy-suffix";m&&m.hasAttribute(d)&&(r=m.getAttribute(d));const V="dompurify"+(r?"#"+r:"");try{return a.createPolicy(V,{createHTML(R){return R},createScriptURL(R){return R}})}catch{return console.warn("TrustedTypes policy "+V+" could not be created."),null}},rs=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Rs(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Yo();const a=N=>Rs(N);if(a.version="3.2.4",a.removed=[],!s||!s.document||s.document.nodeType!==Ie.document||!s.Element)return a.isSupported=!1,a;let{document:m}=s;const r=m,d=r.currentScript,{DocumentFragment:V,HTMLTemplateElement:R,Node:_,Element:D,NodeFilter:j,NamedNodeMap:g=s.NamedNodeMap||s.MozNamedAttrMap,HTMLFormElement:E,DOMParser:o,trustedTypes:n}=s,i=D.prototype,f=Te(i,"cloneNode"),C=Te(i,"remove"),c=Te(i,"nextSibling"),I=Te(i,"childNodes"),h=Te(i,"parentNode");if(typeof R=="function"){const N=m.createElement("template");N.content&&N.content.ownerDocument&&(m=N.content.ownerDocument)}let v,k="";const{implementation:S,createNodeIterator:J,createDocumentFragment:u,getElementsByTagName:L}=m,{importNode:x}=r;let w=rs();a.isSupported=typeof gs=="function"&&typeof h=="function"&&S&&S.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ee,ERB_EXPR:de,TMPLIT_EXPR:me,DATA_ATTR:ue,ARIA_ATTR:et,IS_SCRIPT_OR_DATA:tt,ATTR_WHITESPACE:Le,CUSTOM_ELEMENT:T}=ns;let{IS_ALLOWED_URI:ne}=ns,$=null;const Me=U({},[...ss,...ht,...ft,...bt,...os]);let H=null;const wt=U({},[...as,...xt,...is,...Ge]);let P=Object.seal(js(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Re=null,st=null,St=!0,ot=!0,Ut=!1,At=!0,be=!1,at=!0,pe=!1,it=!1,nt=!1,xe=!1,Oe=!1,ze=!1,Vt=!0,Tt=!1;const ys="user-content-";let rt=!0,ye=!1,Ne={},Ee=null;const It=U({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let _t=null;const kt=U({},["audio","video","img","source","image","track"]);let lt=null;const Lt=U({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Pe="http://www.w3.org/1998/Math/MathML",Fe="http://www.w3.org/2000/svg",re="http://www.w3.org/1999/xhtml";let ge=re,mt=!1,ct=null;const Cs=U({},[Pe,Fe,re],pt);let $e=U({},["mi","mo","mn","ms","mtext"]),We=U({},["annotation-xml"]);const ws=U({},["title","style","font","a","script"]);let Ce=null;const Ss=["application/xhtml+xml","text/html"],Us="text/html";let W=null,je=null;const As=m.createElement("form"),Mt=function(t){return t instanceof RegExp||t instanceof Function},dt=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(je&&je===t)){if((!t||typeof t!="object")&&(t={}),t=he(t),Ce=Ss.indexOf(t.PARSER_MEDIA_TYPE)===-1?Us:t.PARSER_MEDIA_TYPE,W=Ce==="application/xhtml+xml"?pt:qe,$=oe(t,"ALLOWED_TAGS")?U({},t.ALLOWED_TAGS,W):Me,H=oe(t,"ALLOWED_ATTR")?U({},t.ALLOWED_ATTR,W):wt,ct=oe(t,"ALLOWED_NAMESPACES")?U({},t.ALLOWED_NAMESPACES,pt):Cs,lt=oe(t,"ADD_URI_SAFE_ATTR")?U(he(Lt),t.ADD_URI_SAFE_ATTR,W):Lt,_t=oe(t,"ADD_DATA_URI_TAGS")?U(he(kt),t.ADD_DATA_URI_TAGS,W):kt,Ee=oe(t,"FORBID_CONTENTS")?U({},t.FORBID_CONTENTS,W):It,Re=oe(t,"FORBID_TAGS")?U({},t.FORBID_TAGS,W):{},st=oe(t,"FORBID_ATTR")?U({},t.FORBID_ATTR,W):{},Ne=oe(t,"USE_PROFILES")?t.USE_PROFILES:!1,St=t.ALLOW_ARIA_ATTR!==!1,ot=t.ALLOW_DATA_ATTR!==!1,Ut=t.ALLOW_UNKNOWN_PROTOCOLS||!1,At=t.ALLOW_SELF_CLOSE_IN_ATTR!==!1,be=t.SAFE_FOR_TEMPLATES||!1,at=t.SAFE_FOR_XML!==!1,pe=t.WHOLE_DOCUMENT||!1,xe=t.RETURN_DOM||!1,Oe=t.RETURN_DOM_FRAGMENT||!1,ze=t.RETURN_TRUSTED_TYPE||!1,nt=t.FORCE_BODY||!1,Vt=t.SANITIZE_DOM!==!1,Tt=t.SANITIZE_NAMED_PROPS||!1,rt=t.KEEP_CONTENT!==!1,ye=t.IN_PLACE||!1,ne=t.ALLOWED_URI_REGEXP||vs,ge=t.NAMESPACE||re,$e=t.MATHML_TEXT_INTEGRATION_POINTS||$e,We=t.HTML_INTEGRATION_POINTS||We,P=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&Mt(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(P.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&Mt(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(P.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(P.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),be&&(ot=!1),Oe&&(xe=!0),Ne&&($=U({},os),H=[],Ne.html===!0&&(U($,ss),U(H,as)),Ne.svg===!0&&(U($,ht),U(H,xt),U(H,Ge)),Ne.svgFilters===!0&&(U($,ft),U(H,xt),U(H,Ge)),Ne.mathMl===!0&&(U($,bt),U(H,is),U(H,Ge))),t.ADD_TAGS&&($===Me&&($=he($)),U($,t.ADD_TAGS,W)),t.ADD_ATTR&&(H===wt&&(H=he(H)),U(H,t.ADD_ATTR,W)),t.ADD_URI_SAFE_ATTR&&U(lt,t.ADD_URI_SAFE_ATTR,W),t.FORBID_CONTENTS&&(Ee===It&&(Ee=he(Ee)),U(Ee,t.FORBID_CONTENTS,W)),rt&&($["#text"]=!0),pe&&U($,["html","head","body"]),$.table&&(U($,["tbody"]),delete Re.tbody),t.TRUSTED_TYPES_POLICY){if(typeof t.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ve('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof t.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ve('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');v=t.TRUSTED_TYPES_POLICY,k=v.createHTML("")}else v===void 0&&(v=Xo(n,d)),v!==null&&typeof k=="string"&&(k=v.createHTML(""));K&&K(t),je=t}},Ot=U({},[...ht,...ft,...Mo]),zt=U({},[...bt,...Oo]),Vs=function(t){let l=h(t);(!l||!l.tagName)&&(l={namespaceURI:ge,tagName:"template"});const b=qe(t.tagName),z=qe(l.tagName);return ct[t.namespaceURI]?t.namespaceURI===Fe?l.namespaceURI===re?b==="svg":l.namespaceURI===Pe?b==="svg"&&(z==="annotation-xml"||$e[z]):!!Ot[b]:t.namespaceURI===Pe?l.namespaceURI===re?b==="math":l.namespaceURI===Fe?b==="math"&&We[z]:!!zt[b]:t.namespaceURI===re?l.namespaceURI===Fe&&!We[z]||l.namespaceURI===Pe&&!$e[z]?!1:!zt[b]&&(ws[b]||!Ot[b]):!!(Ce==="application/xhtml+xml"&&ct[t.namespaceURI]):!1},ae=function(t){Ue(a.removed,{element:t});try{h(t).removeChild(t)}catch{C(t)}},He=function(t,l){try{Ue(a.removed,{attribute:l.getAttributeNode(t),from:l})}catch{Ue(a.removed,{attribute:null,from:l})}if(l.removeAttribute(t),t==="is")if(xe||Oe)try{ae(l)}catch{}else try{l.setAttribute(t,"")}catch{}},Pt=function(t){let l=null,b=null;if(nt)t="<remove></remove>"+t;else{const B=ts(t,/^[\r\n\t ]+/);b=B&&B[0]}Ce==="application/xhtml+xml"&&ge===re&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");const z=v?v.createHTML(t):t;if(ge===re)try{l=new o().parseFromString(z,Ce)}catch{}if(!l||!l.documentElement){l=S.createDocument(ge,"template",null);try{l.documentElement.innerHTML=mt?k:z}catch{}}const G=l.body||l.documentElement;return t&&b&&G.insertBefore(m.createTextNode(b),G.childNodes[0]||null),ge===re?L.call(l,pe?"html":"body")[0]:pe?l.documentElement:G},Ft=function(t){return J.call(t.ownerDocument||t,t,j.SHOW_ELEMENT|j.SHOW_COMMENT|j.SHOW_TEXT|j.SHOW_PROCESSING_INSTRUCTION|j.SHOW_CDATA_SECTION,null)},ut=function(t){return t instanceof E&&(typeof t.nodeName!="string"||typeof t.textContent!="string"||typeof t.removeChild!="function"||!(t.attributes instanceof g)||typeof t.removeAttribute!="function"||typeof t.setAttribute!="function"||typeof t.namespaceURI!="string"||typeof t.insertBefore!="function"||typeof t.hasChildNodes!="function")},$t=function(t){return typeof _=="function"&&t instanceof _};function le(N,t,l){Be(N,b=>{b.call(a,t,l,je)})}const Wt=function(t){let l=null;if(le(w.beforeSanitizeElements,t,null),ut(t))return ae(t),!0;const b=W(t.nodeName);if(le(w.uponSanitizeElement,t,{tagName:b,allowedTags:$}),t.hasChildNodes()&&!$t(t.firstElementChild)&&X(/<[/\w]/g,t.innerHTML)&&X(/<[/\w]/g,t.textContent)||t.nodeType===Ie.progressingInstruction||at&&t.nodeType===Ie.comment&&X(/<[/\w]/g,t.data))return ae(t),!0;if(!$[b]||Re[b]){if(!Re[b]&&Bt(b)&&(P.tagNameCheck instanceof RegExp&&X(P.tagNameCheck,b)||P.tagNameCheck instanceof Function&&P.tagNameCheck(b)))return!1;if(rt&&!Ee[b]){const z=h(t)||t.parentNode,G=I(t)||t.childNodes;if(G&&z){const B=G.length;for(let Q=B-1;Q>=0;--Q){const ie=f(G[Q],!0);ie.__removalCount=(t.__removalCount||0)+1,z.insertBefore(ie,c(t))}}}return ae(t),!0}return t instanceof D&&!Vs(t)||(b==="noscript"||b==="noembed"||b==="noframes")&&X(/<\/no(script|embed|frames)/i,t.innerHTML)?(ae(t),!0):(be&&t.nodeType===Ie.text&&(l=t.textContent,Be([ee,de,me],z=>{l=Ae(l,z," ")}),t.textContent!==l&&(Ue(a.removed,{element:t.cloneNode()}),t.textContent=l)),le(w.afterSanitizeElements,t,null),!1)},Ht=function(t,l,b){if(Vt&&(l==="id"||l==="name")&&(b in m||b in As))return!1;if(!(ot&&!st[l]&&X(ue,l))){if(!(St&&X(et,l))){if(!H[l]||st[l]){if(!(Bt(t)&&(P.tagNameCheck instanceof RegExp&&X(P.tagNameCheck,t)||P.tagNameCheck instanceof Function&&P.tagNameCheck(t))&&(P.attributeNameCheck instanceof RegExp&&X(P.attributeNameCheck,l)||P.attributeNameCheck instanceof Function&&P.attributeNameCheck(l))||l==="is"&&P.allowCustomizedBuiltInElements&&(P.tagNameCheck instanceof RegExp&&X(P.tagNameCheck,b)||P.tagNameCheck instanceof Function&&P.tagNameCheck(b))))return!1}else if(!lt[l]){if(!X(ne,Ae(b,Le,""))){if(!((l==="src"||l==="xlink:href"||l==="href")&&t!=="script"&&Io(b,"data:")===0&&_t[t])){if(!(Ut&&!X(tt,Ae(b,Le,"")))){if(b)return!1}}}}}}return!0},Bt=function(t){return t!=="annotation-xml"&&ts(t,T)},Gt=function(t){le(w.beforeSanitizeAttributes,t,null);const{attributes:l}=t;if(!l||ut(t))return;const b={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:H,forceKeepAttr:void 0};let z=l.length;for(;z--;){const G=l[z],{name:B,namespaceURI:Q,value:ie}=G,we=W(B);let Y=B==="value"?ie:_o(ie);if(b.attrName=we,b.attrValue=Y,b.keepAttr=!0,b.forceKeepAttr=void 0,le(w.uponSanitizeAttribute,t,b),Y=b.attrValue,Tt&&(we==="id"||we==="name")&&(He(B,t),Y=ys+Y),at&&X(/((--!?|])>)|<\/(style|title)/i,Y)){He(B,t);continue}if(b.forceKeepAttr||(He(B,t),!b.keepAttr))continue;if(!At&&X(/\/>/i,Y)){He(B,t);continue}be&&Be([ee,de,me],Xt=>{Y=Ae(Y,Xt," ")});const Yt=W(t.nodeName);if(Ht(Yt,we,Y)){if(v&&typeof n=="object"&&typeof n.getAttributeType=="function"&&!Q)switch(n.getAttributeType(Yt,we)){case"TrustedHTML":{Y=v.createHTML(Y);break}case"TrustedScriptURL":{Y=v.createScriptURL(Y);break}}try{Q?t.setAttributeNS(Q,B,Y):t.setAttribute(B,Y),ut(t)?ae(t):es(a.removed)}catch{}}}le(w.afterSanitizeAttributes,t,null)},Ts=function N(t){let l=null;const b=Ft(t);for(le(w.beforeSanitizeShadowDOM,t,null);l=b.nextNode();)le(w.uponSanitizeShadowNode,l,null),Wt(l),Gt(l),l.content instanceof V&&N(l.content);le(w.afterSanitizeShadowDOM,t,null)};return a.sanitize=function(N){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=null,b=null,z=null,G=null;if(mt=!N,mt&&(N="<!-->"),typeof N!="string"&&!$t(N))if(typeof N.toString=="function"){if(N=N.toString(),typeof N!="string")throw Ve("dirty is not a string, aborting")}else throw Ve("toString is not a function");if(!a.isSupported)return N;if(it||dt(t),a.removed=[],typeof N=="string"&&(ye=!1),ye){if(N.nodeName){const ie=W(N.nodeName);if(!$[ie]||Re[ie])throw Ve("root node is forbidden and cannot be sanitized in-place")}}else if(N instanceof _)l=Pt("<!---->"),b=l.ownerDocument.importNode(N,!0),b.nodeType===Ie.element&&b.nodeName==="BODY"||b.nodeName==="HTML"?l=b:l.appendChild(b);else{if(!xe&&!be&&!pe&&N.indexOf("<")===-1)return v&&ze?v.createHTML(N):N;if(l=Pt(N),!l)return xe?null:ze?k:""}l&&nt&&ae(l.firstChild);const B=Ft(ye?N:l);for(;z=B.nextNode();)Wt(z),Gt(z),z.content instanceof V&&Ts(z.content);if(ye)return N;if(xe){if(Oe)for(G=u.call(l.ownerDocument);l.firstChild;)G.appendChild(l.firstChild);else G=l;return(H.shadowroot||H.shadowrootmode)&&(G=x.call(r,G,!0)),G}let Q=pe?l.outerHTML:l.innerHTML;return pe&&$["!doctype"]&&l.ownerDocument&&l.ownerDocument.doctype&&l.ownerDocument.doctype.name&&X(Ds,l.ownerDocument.doctype.name)&&(Q="<!DOCTYPE "+l.ownerDocument.doctype.name+`>
`+Q),be&&Be([ee,de,me],ie=>{Q=Ae(Q,ie," ")}),v&&ze?v.createHTML(Q):Q},a.setConfig=function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};dt(N),it=!0},a.clearConfig=function(){je=null,it=!1},a.isValidAttribute=function(N,t,l){je||dt({});const b=W(N),z=W(t);return Ht(b,z,l)},a.addHook=function(N,t){typeof t=="function"&&Ue(w[N],t)},a.removeHook=function(N,t){if(t!==void 0){const l=Vo(w[N],t);return l===-1?void 0:To(w[N],l,1)[0]}return es(w[N])},a.removeHooks=function(N){w[N]=[]},a.removeAllHooks=function(){w=rs()},a}var qo=Rs();const Ko=ho(p)(({theme:s})=>({backgroundColor:s.palette.background.paper,padding:s.spacing(2),borderRadius:s.shape.borderRadius,marginBottom:s.spacing(3),overflow:"auto","& a":{color:s.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}},"& img":{maxWidth:"100%",height:"auto"},"& table":{borderCollapse:"collapse",width:"100%",margin:"16px 0"},"& th, & td":{border:`1px solid ${s.palette.divider}`,padding:"8px",textAlign:"left"},"& th":{backgroundColor:q(s.palette.background.default,.5)},"& blockquote":{borderLeft:`4px solid ${s.palette.divider}`,margin:"0",padding:"0 16px",color:s.palette.text.secondary},"& pre":{backgroundColor:q(s.palette.background.default,.5),padding:"16px",borderRadius:"4px",overflowX:"auto"},"& code":{fontFamily:"monospace",backgroundColor:q(s.palette.background.default,.5),padding:"2px 4px",borderRadius:"4px"},"& .ExternalClass":{width:"100%"},"& .ExternalClass, & .ExternalClass p, & .ExternalClass span, & .ExternalClass font, & .ExternalClass td, & .ExternalClass div":{lineHeight:"100%"},"& .ReadMsgBody":{width:"100%"}}));function Zo({email:s,onClose:a,onPrevious:m,onNext:r,hasPrevious:d,hasNext:V,onReply:R,onForward:_,onDelete:D,onToggleStar:j,onToggleRead:g}){const E=ce();y.useEffect(()=>{s.isRead||g(s.id,!0)},[s.id,s.isRead,g]);const o=y.useMemo(()=>new Date(s.timestamp).toLocaleString(void 0,{weekday:"short",month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"}),[s.timestamp]),[n,i]=y.useState(!1),f=()=>{if(!/<[a-z][\s\S]*>/i.test(s.content)||n)return e.jsxDEV(M,{variant:"body1",sx:{wordBreak:"break-word",whiteSpace:"pre-wrap",lineHeight:1.8,color:E.palette.text.primary},children:s.content},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:157,columnNumber:9},this);{const c=qo.sanitize(s.content,{ADD_TAGS:["style"],ADD_ATTR:["target"],FORBID_TAGS:["script","iframe","object","embed"],FORBID_ATTR:["onerror","onload","onclick","onmouseover"]});return e.jsxDEV(Ko,{children:e.jsxDEV("div",{dangerouslySetInnerHTML:{__html:c}},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:181,columnNumber:11},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:180,columnNumber:9},this)}};return e.jsxDEV(p,{component:fe.div,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},sx:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden",borderLeft:"1px solid",borderColor:"divider",bgcolor:E.palette.background.default},children:[e.jsxDEV(p,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:2,borderBottom:"1px solid",borderColor:"divider",bgcolor:E.palette.background.default,gap:2},children:[e.jsxDEV(p,{sx:{display:"flex",alignItems:"center",gap:1},children:e.jsxDEV(O,{onClick:a,edge:"start",sx:{ml:1,height:32,width:32},children:e.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:223,columnNumber:13},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:218,columnNumber:11},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:217,columnNumber:9},this),e.jsxDEV(p,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsxDEV(F,{title:s.isRead?"Mark as unread":"Mark as read",children:e.jsxDEV(O,{onClick:()=>g(s.id,!s.isRead),sx:{height:32,width:32},children:s.isRead?e.jsxDEV(hs,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:236,columnNumber:31},this):e.jsxDEV(yt,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:236,columnNumber:57},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:232,columnNumber:13},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:231,columnNumber:11},this),e.jsxDEV(F,{title:"Delete",children:e.jsxDEV(O,{onClick:()=>D(s.id),color:"error",sx:{height:32,width:32},children:e.jsxDEV(fs,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:246,columnNumber:15},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:241,columnNumber:13},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:240,columnNumber:11},this),e.jsxDEV(F,{title:d?"Previous email":"No more emails",children:e.jsxDEV("span",{children:e.jsxDEV(O,{onClick:m,disabled:!d,sx:{height:32,width:32},children:e.jsxDEV(Ws,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:257,columnNumber:17},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:252,columnNumber:15},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:251,columnNumber:13},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:250,columnNumber:11},this),e.jsxDEV(F,{title:V?"Next email":"No more emails",children:e.jsxDEV("span",{children:e.jsxDEV(O,{onClick:r,disabled:!V,sx:{height:32,width:32},children:e.jsxDEV(cs,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:269,columnNumber:17},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:264,columnNumber:15},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:263,columnNumber:13},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:262,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:230,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:205,columnNumber:7},this),e.jsxDEV(p,{sx:{flexGrow:1,overflow:"auto",p:{xs:2,sm:3},bgcolor:E.palette.background.default},children:[e.jsxDEV(p,{sx:{mb:3},children:[e.jsxDEV(M,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600,color:E.palette.mode==="dark"?E.palette.grey[100]:E.palette.grey[900]},children:["Subject: ",s.subject]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:287,columnNumber:11},this),e.jsxDEV(p,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:1},children:[e.jsxDEV(p,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsxDEV(O,{size:"small",onClick:()=>j(s.id,!s.isStarred),sx:{color:s.isStarred?E.palette.warning.main:E.palette.text.disabled},children:s.isStarred?e.jsxDEV(Je,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:320,columnNumber:36},this):e.jsxDEV(ps,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:320,columnNumber:51},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:311,columnNumber:15},this),s?.labels?.map(C=>e.jsxDEV(Ct,{label:C,size:"small",sx:{borderRadius:1,bgcolor:q(E.palette.primary.main,.1),color:E.palette.primary.main}},C,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:324,columnNumber:17},this))]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:310,columnNumber:13},this),e.jsxDEV(M,{variant:"body2",color:"text.secondary",sx:{fontWeight:500},children:o},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:337,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:301,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:286,columnNumber:9},this),e.jsxDEV(ke,{elevation:0,sx:{p:2,mb:3,borderRadius:2,border:"1px solid",borderColor:E.palette.divider,bgcolor:q(E.palette.background.default,.5)},children:[e.jsxDEV(p,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsxDEV(_e,{src:s.from.avatar,alt:s.from.name,sx:{width:48,height:48,bgcolor:E.palette.primary.main},children:s.from.name?s.from.name.charAt(0).toUpperCase():"U"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:360,columnNumber:13},this),e.jsxDEV(p,{sx:{flexGrow:1},children:[e.jsxDEV(M,{variant:"subtitle1",sx:{fontWeight:600},children:s.from.name||"Unknown"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:373,columnNumber:15},this),e.jsxDEV(M,{variant:"body2",color:"text.secondary",children:s.from.email},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:376,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:372,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:359,columnNumber:11},this),e.jsxDEV(p,{sx:{mt:2},children:[e.jsxDEV(M,{variant:"body2",sx:{mb:1},children:["To:"," ",s.to.map(C=>`${C.name} <${C.email}>`).join(", ")]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:383,columnNumber:13},this),s.cc&&s.cc.length>0&&e.jsxDEV(M,{variant:"body2",sx:{mb:1},children:["CC:"," ",s.cc.map(C=>`${C.name} <${C.email}>`).join(", ")]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:390,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:382,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:348,columnNumber:9},this),e.jsxDEV(p,{sx:{mb:3},children:[e.jsxDEV(p,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"center",mb:1,gap:1},children:e.jsxDEV(F,{title:n?"Show formatted message":"Show plain text",children:e.jsxDEV(te,{size:"small",startIcon:n?e.jsxDEV(Hs,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:432,columnNumber:35},this):e.jsxDEV(Bs,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:432,columnNumber:59},this),onClick:()=>i(!n),sx:{textTransform:"none",fontSize:"0.75rem"},children:n?"Show formatted":"Show plain text"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:429,columnNumber:15},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:424,columnNumber:13},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:415,columnNumber:11},this),e.jsxDEV(p,{sx:{backgroundColor:"background.paper",p:2,borderRadius:2,border:"1px solid",borderColor:E.palette.divider,color:"text.primary",overflow:"auto"},children:f()},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:442,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:414,columnNumber:9},this),s.hasAttachments&&s.attachments&&s.attachments.length>0&&e.jsxDEV(p,{sx:{mt:4},children:[e.jsxDEV(Qe,{sx:{mb:2}},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:462,columnNumber:15},this),e.jsxDEV(M,{variant:"subtitle2",sx:{mb:2,fontWeight:600},children:["Attachments (",s.attachments.length,")"]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:463,columnNumber:15},this),e.jsxDEV(p,{sx:{display:"flex",flexWrap:"wrap",gap:2},children:s.attachments.map(C=>e.jsxDEV(ke,{elevation:0,sx:{p:2,borderRadius:2,border:"1px solid",borderColor:E.palette.divider,display:"flex",alignItems:"center",gap:1,width:{xs:"100%",sm:"calc(50% - 8px)",md:"calc(50% - 10px)"}},children:[e.jsxDEV(us,{fontSize:"small"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:486,columnNumber:21},this),e.jsxDEV(p,{sx:{minWidth:0,flexGrow:1},children:[e.jsxDEV(M,{noWrap:!0,variant:"body2",sx:{fontWeight:500},children:C.name},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:488,columnNumber:23},this),e.jsxDEV(M,{variant:"caption",color:"text.secondary",children:[(C.size/1024).toFixed(1)," KB"]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:495,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:487,columnNumber:21},this),e.jsxDEV(F,{title:"Download",children:e.jsxDEV(O,{size:"small",href:C.url,download:!0,children:e.jsxDEV(Kt,{sx:{transform:"rotate(-90deg)"},fontSize:"small"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:501,columnNumber:25},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:500,columnNumber:23},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:499,columnNumber:21},this)]},C.id,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:468,columnNumber:19},this))},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:466,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:461,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:277,columnNumber:7},this),e.jsxDEV(p,{sx:{display:"flex",justifyContent:"flex-end",py:.12,px:3,borderTop:"1px solid",borderColor:"divider",bgcolor:E.palette.background.paper,gap:3},children:[e.jsxDEV(te,{variant:"text",startIcon:e.jsxDEV(Gs,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:529,columnNumber:22},this),onClick:()=>R(s),sx:{borderRadius:1},children:"Reply"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:527,columnNumber:9},this),e.jsxDEV(te,{variant:"text",startIcon:e.jsxDEV(Ys,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:537,columnNumber:22},this),onClick:()=>_(s),sx:{borderRadius:1},children:"Forward"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:535,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:515,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailDetailView.tsx",lineNumber:188,columnNumber:5},this)}function Jo({currentFolder:s,onOpenSidebar:a,unreadCount:m,onCompose:r}){const d=ce(),V=y.useMemo(()=>({inbox:{name:"Inbox",icon:ls},drafts:{name:"Drafts",icon:ms},sent:{name:"Sent",icon:Rt},starred:{name:"Starred",icon:Je}}),[]),R=V[s]||V.inbox,_=R.icon;return e.jsxDEV(fo,{position:"static",color:"default",elevation:0,sx:{border:"1px solid",borderColor:"divider",bgcolor:"background.default",borderRadius:2},children:e.jsxDEV(bo,{sx:{px:1,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxDEV(O,{edge:"start",color:"inherit","aria-label":"menu",onClick:a,sx:{ml:2},children:e.jsxDEV(ds,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailMobileNav.tsx",lineNumber:78,columnNumber:11},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailMobileNav.tsx",lineNumber:71,columnNumber:9},this),e.jsxDEV(p,{sx:{display:"flex",alignItems:"center",ml:1},children:[e.jsxDEV(_,{sx:{ml:2,color:s==="starred"?d.palette.warning.main:"inherit"}},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailMobileNav.tsx",lineNumber:82,columnNumber:11},this),e.jsxDEV(M,{variant:"h6",sx:{fontWeight:600,ml:2},children:[R.name,s==="inbox"&&m>0&&e.jsxDEV(xo,{badgeContent:m,color:"primary",sx:{ml:3,"& .MuiBadge-badge":{fontSize:"0.75rem",height:18,minWidth:18}}},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailMobileNav.tsx",lineNumber:94,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailMobileNav.tsx",lineNumber:91,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailMobileNav.tsx",lineNumber:81,columnNumber:9},this),r&&e.jsxDEV(F,{title:"Compose new email",placement:"right",children:e.jsxDEV(te,{variant:"outlined",disableElevation:!0,startIcon:e.jsxDEV(Nt,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailMobileNav.tsx",lineNumber:115,columnNumber:26},this),onClick:r,sx:{borderRadius:8,px:2,py:.75,display:"flex",textTransform:"none",justifyContent:"right",alignItems:"right",minWidth:0,[d.breakpoints.down("sm")]:{px:1.5,"& .MuiButton-startIcon":{mr:0},"& .MuiButton-startIcon>*:nth-of-type(1)":{fontSize:"1.2rem"},"& .MuiButton-endIcon>*:nth-of-type(1)":{fontSize:"1rem"}}},children:e.jsxDEV(p,{sx:{display:{xs:"none",sm:"block"}},children:"Compose"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailMobileNav.tsx",lineNumber:140,columnNumber:15},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailMobileNav.tsx",lineNumber:112,columnNumber:13},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailMobileNav.tsx",lineNumber:111,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailMobileNav.tsx",lineNumber:63,columnNumber:7},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailMobileNav.tsx",lineNumber:52,columnNumber:5},this)}function Qo({open:s,onClose:a,replyTo:m,forwardEmail:r,onSend:d,selectedAccount:V}){const R=ce(),[_,D]=y.useState(!1),[j,g]=y.useState(!1),[E,o]=y.useState(!1),[n,i]=y.useState([]),f=y.useRef(null),[C,c]=y.useState(""),[I,h]=y.useState(""),[v,k]=y.useState(""),[S,J]=y.useState(""),[u,L]=y.useState(""),[x,w]=y.useState(!1),[ee,de]=y.useState(!1);y.useEffect(()=>{m?(c(m.from.email),J(`Re: ${m.subject}`),L(`

-------- Original Message --------
From: ${m.from.name} <${m.from.email}>
Date: ${new Date(m.timestamp).toLocaleString()}
Subject: ${m.subject}

${m.content}`),w(!!m.cc?.length),m.cc?.length&&h(m.cc.map(T=>T.email).join(", "))):r&&(J(`Fwd: ${r.subject}`),L(`

-------- Forwarded Message --------
From: ${r.from.name} <${r.from.email}>
Date: ${new Date(r.timestamp).toLocaleString()}
Subject: ${r.subject}
To: ${r.to.map(T=>T.email).join(", ")}

${r.content}`),r.attachments?.length)},[m,r]);const me=async()=>{if(C.trim()){o(!0);try{await d({to:C.split(",").map(T=>T.trim()),cc:I?I.split(",").map(T=>T.trim()):[],bcc:v?v.split(",").map(T=>T.trim()):[],subject:S,body:{html:u,text:u.replace(/<[^>]*>/g,"")},attachments:n}),ue()}catch(T){console.error("Failed to send email:",T),alert(`Failed to send email: ${T instanceof Error?T.message:"Unknown error"}`)}finally{o(!1)}}},ue=()=>{c(""),h(""),k(""),J(""),L(""),i([]),w(!1),de(!1),D(!1),g(!1),a()},et=()=>{f.current?.click()},tt=T=>{T.target.files&&i(ne=>[...ne,...Array.from(T.target.files)])},Le=T=>{i(ne=>ne.filter(($,Me)=>Me!==T))};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(No,{open:s&&!_,onClose:ue,maxWidth:j?!1:"md",fullWidth:!0,fullScreen:j,PaperProps:{sx:{borderRadius:j?0:2,overflow:"hidden",maxHeight:j?"100%":"80vh",minHeight:"60vh",m:j?0:2,display:"flex",flexDirection:"column",backgroundColor:"background.default",backdropFilter:"blur(100px)"}},children:[e.jsxDEV(p,{sx:{bgcolor:R.palette.background.default,color:R.palette.text.primary,p:1.5,display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"1px solid",borderColor:"divider"},children:[e.jsxDEV(M,{variant:"h6",sx:{fontWeight:600,fontSize:"1rem",color:"text.primary"},children:[m?"Reply":r?"Forward":"New Message",V&&` (${V.email})`]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:211,columnNumber:11},this),e.jsxDEV(p,{sx:{display:"flex",gap:1},children:[e.jsxDEV(F,{title:"Minimize",children:e.jsxDEV(O,{size:"small",onClick:()=>D(!0),sx:{color:"text.primary",opacity:.8},children:e.jsxDEV(Xs,{fontSize:"small"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:222,columnNumber:17},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:217,columnNumber:15},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:216,columnNumber:13},this),e.jsxDEV(F,{title:j?"Small screen":"Full screen",children:e.jsxDEV(O,{size:"small",onClick:()=>g(!j),sx:{color:"text.primary",opacity:.8},children:e.jsxDEV(qs,{fontSize:"small"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:231,columnNumber:17},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:226,columnNumber:15},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:225,columnNumber:13},this),e.jsxDEV(F,{title:"Close",children:e.jsxDEV(O,{size:"small",onClick:ue,sx:{color:"text.primary",opacity:.8},children:e.jsxDEV(Ke,{fontSize:"small"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:240,columnNumber:17},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:235,columnNumber:15},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:234,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:215,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:199,columnNumber:9},this),e.jsxDEV(Eo,{dividers:!0,sx:{p:0,display:"flex",flexDirection:"column",flexGrow:1},children:[e.jsxDEV(p,{sx:{p:2,borderBottom:"1px solid",borderColor:"divider",bgcolor:"background.default"},children:[e.jsxDEV(ve,{autoFocus:!0,margin:"dense",placeholder:"To",fullWidth:!0,variant:"outlined",size:"small",value:C,onChange:T=>c(T.target.value),sx:{mb:1},InputProps:{endAdornment:!x&&e.jsxDEV(jt,{position:"end",children:[e.jsxDEV(te,{variant:"text",size:"small",onClick:()=>w(!0),sx:{textTransform:"none",ml:1,height:"30px",width:"auto"},children:"Cc"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:265,columnNumber:21},this),e.jsxDEV(te,{variant:"text",size:"small",onClick:()=>de(!0),sx:{textTransform:"none",ml:1,height:"30px",width:"auto"},children:"Bcc"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:273,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:264,columnNumber:19},this)}},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:252,columnNumber:13},this),x&&e.jsxDEV(ve,{margin:"dense",placeholder:"Cc",fullWidth:!0,variant:"outlined",size:"small",value:I,onChange:T=>h(T.target.value),sx:{mb:1}},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:287,columnNumber:15},this),ee&&e.jsxDEV(ve,{margin:"dense",placeholder:"Bcc",fullWidth:!0,variant:"outlined",size:"small",value:v,onChange:T=>k(T.target.value),sx:{mb:1}},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:300,columnNumber:15},this),e.jsxDEV(ve,{margin:"dense",placeholder:"Subject",fullWidth:!0,variant:"outlined",size:"small",value:S,onChange:T=>J(T.target.value)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:312,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:251,columnNumber:11},this),e.jsxDEV(p,{sx:{display:"flex",gap:.5,p:.7,pl:2,alignContent:"center",borderColor:"divider",bgcolor:R.palette.background.default,flexWrap:"wrap",justifyContent:"flex-start"},children:[e.jsxDEV(F,{title:"Bold",children:e.jsxDEV(O,{size:"small",sx:{height:"30px",width:"30px"},children:e.jsxDEV(Ks,{fontSize:"small"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:339,columnNumber:17},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:338,columnNumber:15},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:337,columnNumber:13},this),e.jsxDEV(F,{title:"Italic",children:e.jsxDEV(O,{size:"small",sx:{height:"30px",width:"30px"},children:e.jsxDEV(Zs,{fontSize:"small"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:344,columnNumber:17},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:343,columnNumber:15},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:342,columnNumber:13},this),e.jsxDEV(F,{title:"Underline",children:e.jsxDEV(O,{size:"small",sx:{height:"30px",width:"30px"},children:e.jsxDEV(Js,{fontSize:"small"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:349,columnNumber:17},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:348,columnNumber:15},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:347,columnNumber:13},this),e.jsxDEV(Qe,{orientation:"vertical",flexItem:!0,sx:{mx:.5}},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:352,columnNumber:13},this),e.jsxDEV(F,{title:"Bullet list",children:e.jsxDEV(O,{size:"small",sx:{height:"30px",width:"30px"},children:e.jsxDEV(Qs,{fontSize:"small"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:355,columnNumber:17},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:354,columnNumber:15},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:353,columnNumber:13},this),e.jsxDEV(F,{title:"Numbered list",children:e.jsxDEV(O,{size:"small",sx:{height:"30px",width:"30px"},children:e.jsxDEV(eo,{fontSize:"small"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:360,columnNumber:17},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:359,columnNumber:15},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:358,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:324,columnNumber:11},this),e.jsxDEV(ve,{multiline:!0,fullWidth:!0,variant:"outlined",value:u,onChange:T=>L(T.target.value),placeholder:"Write your message here...",sx:{flexGrow:1,"& .MuiOutlinedInput-root":{height:"100%",minHeight:"200px",alignItems:"flex-start",p:2,"& .MuiOutlinedInput-notchedOutline":{border:"none"}}}},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:366,columnNumber:11},this),n.length>0&&e.jsxDEV(p,{sx:{p:2,borderTop:"1px solid",borderColor:"divider",bgcolor:"background.default"},children:[e.jsxDEV(M,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:["Attachments (",n.length,")"]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:390,columnNumber:15},this),e.jsxDEV(p,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:n.map((T,ne)=>e.jsxDEV(Ct,{label:`${T.name} (${(T.size/1024).toFixed(0)} KB)`,onDelete:()=>Le(ne),variant:"outlined",size:"small",sx:{borderRadius:1}},ne,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:395,columnNumber:19},this))},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:393,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:389,columnNumber:13},this),e.jsxDEV("input",{type:"file",ref:f,multiple:!0,style:{display:"none"},onChange:tt},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:408,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:246,columnNumber:9},this),e.jsxDEV(go,{sx:{p:1.5,justifyContent:"space-between",bgcolor:"background.default"},children:[e.jsxDEV(te,{startIcon:e.jsxDEV(to,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:419,columnNumber:24},this),variant:"outlined",onClick:et,disabled:E,children:"Attach"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:418,columnNumber:11},this),e.jsxDEV(p,{children:[e.jsxDEV(te,{onClick:ue,sx:{mr:1},disabled:E,children:"Discard"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:427,columnNumber:13},this),e.jsxDEV(te,{variant:"contained",onClick:me,disabled:!C.trim()||E,startIcon:E?e.jsxDEV(Ns,{size:16},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:435,columnNumber:27},this):e.jsxDEV(Rt,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:435,columnNumber:60},this),children:"Send"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:430,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:426,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:417,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:178,columnNumber:7},this),s&&_&&e.jsxDEV(ke,{elevation:8,sx:{position:"fixed",bottom:16,right:16,width:300,zIndex:1300,borderRadius:1,overflow:"hidden"},children:e.jsxDEV(p,{sx:{bgcolor:R.palette.primary.main,color:R.palette.text.primary,p:1,display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer"},onClick:()=>D(!1),children:[e.jsxDEV(M,{variant:"subtitle2",sx:{fontWeight:500,ml:1},children:S||"New Message"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:470,columnNumber:13},this),e.jsxDEV(O,{size:"small",onClick:T=>{T.stopPropagation(),ue()},sx:{color:"inherit",opacity:.8},children:e.jsxDEV(Ke,{fontSize:"small"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:481,columnNumber:15},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:473,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:458,columnNumber:11},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:446,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/ComposeEmail.tsx",lineNumber:177,columnNumber:5},this)}const A=(s,...a)=>{console.log(`[EmailClient] ${s}`,...a)},ea=()=>{const[s,a]=y.useState({accounts:[],selectedAccount:"",selectedAccountEmail:"",emails:[],filteredEmails:[],loading:!0,error:null,searchTerm:"",currentFolder:"inbox",selectedEmailId:null,composeOpen:!1,replyTo:null,forwardEmail:null,detailViewOpen:!1,mobileSidebarOpen:!1,unreadCounts:{},unreadCount:0,hasPreviousEmail:!1,hasNextEmail:!1}),m="https://replai.tech",r=y.useRef(!1),d=y.useRef({accountId:"",folder:"",timestamp:0}),V=()=>localStorage.getItem("token"),R=y.useMemo(()=>(A("Creating API instance"),Es.create({baseURL:m,headers:{Authorization:`Bearer ${V()}`}})),[m]),_=(o,n)=>{console.error(n,o),a(i=>({...i,error:n}))},D=y.useCallback(async(o,n,i=!1)=>{const f=Date.now(),C=d.current;if(!o){A("Error: No account email provided"),a(c=>({...c,loading:!1,error:"No email account email provided"}));return}if(!i&&C.accountId===o&&C.folder===n&&f-C.timestamp<5e3){A("Skipping fetch - too soon",{accountEmail:o,folder:n});return}a(c=>({...c,loading:!0,error:null}));try{A(`Fetching emails for ${o}`,{folder:n});let c="",I={};switch(n){case"drafts":c=`/api/emails/v2/${o}/drafts`,I={folder:n,timestamp:f};break;case"sent":c=`/api/emails/v2/${o}/sent`,I={folder:n,timestamp:f};break;case"trash":c=`/api/emails/v2/${o}/trash`,I={folder:n,timestamp:f};break;case"starred":c=`/api/emails/v2/${o}/starred`,I={folder:n,timestamp:f};break;default:c=`/api/emails/v2/${o}/emails`,I={folder:n,timestamp:f}}console.log(`API URL: ${m}${c}`,I);const v=(await R.get(c,{params:I})).data;let k=[];if(v)if(Array.isArray(v))k=v,A(`Received ${k.length} emails directly as array`);else if(typeof v=="object")"emails"in v&&Array.isArray(v.emails)?(k=v.emails,A(`Received ${k.length} emails in pagination format`),"pagination"in v&&A("Pagination info:",v.pagination)):"sent"in v&&Array.isArray(v.sent)?(k=v.sent,console.log(`Received ${k.length} sent emails`),A(`Received ${k.length} sent emails`)):"drafts"in v&&Array.isArray(v.drafts)?(k=v.drafts,A(`Received ${k.length} drafts`)):"_id"in v?(k=[v],A("Received a single email")):(A("Response format recognized but no emails found",v),k=[]);else throw A("Unexpected response format",v),new Error("Unexpected response format from email API");A(`Processing ${k.length} emails for ${o} in ${n}`);const S=Array.isArray(k)&&k.length>0?k.map(u=>({id:u._id,messageId:u.messageId||u._id,subject:u.subject||"(No Subject)",from:{name:u.from?.name||u.from?.email?.split("@")[0]||"Unknown",email:u.from?.email||"",avatar:u.from?.name?u.from.name.charAt(0).toUpperCase():"?"},to:Array.isArray(u.to)?u.to.map(L=>({name:L.name||L.email.split("@")[0],email:L.email})):[],content:(()=>{if(typeof u.body=="string")return u.body;if(u.body&&typeof u.body=="object"){if(u.body.html&&typeof u.body.html=="string")return u.body.html;if(u.body.text&&typeof u.body.text=="string")return u.body.text.replace(/\r\n/g,"<br>").replace(/\n/g,"<br>").replace(/\r/g,"<br>")}return u.snippet?`<p>${u.snippet}</p>`:""})(),preview:u.snippet||"",date:(()=>{const L=[u.date,u.createdAt,u.updatedAt,u.sentAt,u.dateSent];for(const x of L)if(x)try{const w=new Date(x);if(!isNaN(w.getTime()))return w.toLocaleString()}catch{continue}return new Date().toLocaleString()})(),timestamp:(()=>{const L=[u.date,u.createdAt,u.updatedAt,u.sentAt,u.dateSent];for(const x of L)if(x)try{const w=new Date(x);if(!isNaN(w.getTime()))return w.getTime()}catch{continue}return Date.now()})(),isRead:u.read===!0,isStarred:u.starred===!0,hasAttachments:Array.isArray(u.attachments)&&u.attachments.length>0,attachments:u.attachments?.map(L=>({id:L.id||L._id||"",name:L.filename,size:L.size||0,type:L.contentType,url:`${m}/api/emails/v2/${o}/emails/${u._id}/attachments/${L.id||L._id}`})),labels:u.labels||[],folder:u.folder||n})):[],J={inbox:S.filter(u=>u.folder==="inbox"&&!u.isRead).length,drafts:S.filter(u=>u.folder==="drafts").length,sent:S.filter(u=>u.folder==="sent").length,starred:S.filter(u=>u.isStarred).length,trash:S.filter(u=>u.folder==="trash").length};d.current={accountId:o,folder:n,timestamp:f},A("Setting state with fetched emails",{account:o,folder:n,total:S.length,unread:J.inbox}),a(u=>({...u,emails:S,filteredEmails:u.searchTerm?S.filter(L=>[L.subject,L.from.name,L.from.email,L.preview,...L.to.map(x=>`${x.name} ${x.email}`)].some(x=>x.toLowerCase().includes(u.searchTerm.toLowerCase()))):S,loading:!1,unreadCounts:J,unreadCount:J.inbox,error:null}))}catch(c){console.error("Error fetching emails:",c),a(I=>({...I,loading:!1,emails:[],filteredEmails:[],error:c instanceof Error?c.message:"Failed to fetch emails"}))}},[R,m]),j=y.useCallback(async()=>{if(r.current){A("Already initialized, skipping");return}A("Initializing email client"),r.current=!0;try{const{data:o}=await R.get("/api/emails/auth/connected");if(A("Received accounts",o),!Array.isArray(o)||o.length===0){A("No accounts found"),a(i=>({...i,loading:!1}));return}const n=o.map(i=>({id:i._id,name:i.name||i.email.split("@")[0],email:i.email,avatar:i.avatar||i.email.charAt(0).toUpperCase(),provider:i.provider}));if(A("Transformed accounts",n),n.length>0){const i=n[0];if(A("Setting first account as active",i),!i.email){A("First account has no email address",i),a(f=>({...f,accounts:n,loading:!1,error:"Account has no email address"}));return}a(f=>({...f,accounts:n,selectedAccount:i.id,selectedAccountEmail:i.email,loading:!0})),await D(i.email,"inbox",!0)}}catch(o){console.error("Error initializing email client:",o),_(o,"Failed to initialize email client")}},[R,D]);y.useEffect(()=>{j()},[j]),y.useEffect(()=>{if(!s.searchTerm){a(i=>({...i,filteredEmails:i.emails}));return}const o=s.searchTerm.toLowerCase(),n=s.emails.filter(i=>[i.subject,i.from.name,i.from.email,i.preview,...i.to.map(f=>`${f.name} ${f.email}`)].some(f=>f.toLowerCase().includes(o)));a(i=>({...i,filteredEmails:n}))},[s.searchTerm,s.emails]),y.useEffect(()=>{if(s.selectedEmailId){const o=s.filteredEmails.findIndex(n=>n.id===s.selectedEmailId);a(n=>({...n,hasPreviousEmail:o>0,hasNextEmail:o<s.filteredEmails.length-1}))}},[s.selectedEmailId,s.filteredEmails]);const g={handleAccountChange:o=>{A("Changing account",o);const n=s.accounts.find(i=>i.id===o);if(!n){A("Error: No matching account found for ID",o),a(i=>({...i,error:"Invalid account ID"}));return}if(!n.email){A("Error: Account has no email address",n),a(i=>({...i,error:"Selected account has no email address"}));return}if(o===s.selectedAccount&&!s.loading){A("Account already selected, refreshing emails"),D(n.email,s.currentFolder,!0);return}a(i=>({...i,selectedAccount:o,selectedAccountEmail:n.email,currentFolder:"inbox",selectedEmailId:null,detailViewOpen:!1,searchTerm:"",emails:[],filteredEmails:[],loading:!0,error:null})),D(n.email,"inbox",!0)},handleFolderChange:o=>{A("Changing folder",o),a(n=>({...n,currentFolder:o,selectedEmailId:null,detailViewOpen:!1,loading:!0})),D(s.selectedAccountEmail,o)},handleSearchChange:o=>{a(n=>({...n,searchTerm:o.target.value}))},handleClearSearch:()=>{a(o=>({...o,searchTerm:""}))},handleRefresh:()=>{if(A("Manual refresh requested"),!s.selectedAccountEmail){A("No account selected, cannot refresh"),a(o=>({...o,error:"No email account selected"}));return}D(s.selectedAccountEmail,s.currentFolder,!0)},handleEmailSelect:async o=>{if(A("Selecting email",o),!s.selectedAccountEmail)throw new Error("No account email selected");try{const i=(await R.get(`/api/emails/v2/${s.selectedAccountEmail}/emails/${o}`)).data,f={id:i._id,messageId:i.messageId||i._id,subject:i.subject||"(No Subject)",from:{name:i.from?.name||i.from?.email?.split("@")[0]||"Unknown",email:i.from?.email||"",avatar:i.from?.name?i.from.name.charAt(0).toUpperCase():"?"},to:Array.isArray(i.to)?i.to.map(c=>({name:c.name||c.email.split("@")[0],email:c.email})):[],content:(()=>{if(typeof i.body=="string")return i.body;if(i.body&&typeof i.body=="object"){if(i.body.html&&typeof i.body.html=="string")return i.body.html;if(i.body.text&&typeof i.body.text=="string")return i.body.text.replace(/\r\n/g,"<br>").replace(/\n/g,"<br>").replace(/\r/g,"<br>")}return i.snippet?`<p>${i.snippet}</p>`:""})(),preview:i.snippet||"",date:new Date(i.date||Date.now()).toLocaleString(),timestamp:new Date(i.date||Date.now()).getTime(),isRead:i.read===!0,isStarred:i.starred===!0,hasAttachments:Array.isArray(i.attachments)&&i.attachments.length>0,attachments:i.attachments?.map(c=>({id:c.id||c._id||"",name:c.filename,size:c.size||0,type:c.contentType,url:`${m}/api/emails/v2/${s.selectedAccountEmail}/emails/${i._id}/attachments/${c.id||c._id}`})),labels:i.labels||[],folder:i.folder||s.currentFolder},C=s.emails.map(c=>c.id===o?{...c,...f}:c);a(c=>({...c,emails:C,filteredEmails:c.searchTerm?C.filter(I=>[I.subject,I.from.name,I.from.email,I.preview,...I.to.map(h=>`${h.name} ${h.email}`)].some(h=>h.toLowerCase().includes(c.searchTerm.toLowerCase()))):C,selectedEmailId:o,detailViewOpen:!0,unreadCount:c.unreadCount+(f.isRead?0:-1)}))}catch(n){console.error("Error fetching full email content:",n),a(i=>({...i,selectedEmailId:o,detailViewOpen:!0}))}},handleCloseDetailView:()=>{a(o=>({...o,selectedEmailId:null,detailViewOpen:!1}))},handleToggleStar:async o=>{const n=s.emails.find(i=>i.id===o);if(n)try{if(!s.selectedAccountEmail)throw new Error("No account email selected");const i=s.emails.map(c=>c.id===o?{...c,isStarred:!c.isStarred}:c);a(c=>({...c,emails:i,filteredEmails:i}));const f=[`/api/emails/v2/${s.selectedAccountEmail}/emails/${o}/star`,`/api/emails/v2/${s.selectedAccountEmail}/emails/${o}`,`/api/emails/${s.selectedAccountEmail}/emails/${o}/star`];let C=!1;for(const c of f)try{c.includes("/star")?await R.patch(c):await R.patch(c,{starred:!n.isStarred}),C=!0,A(`Star toggled using endpoint: ${c}`);break}catch(I){console.warn(`Failed to toggle star using endpoint: ${c}`,I)}C||console.error("All star endpoints failed, but UI was updated")}catch(i){console.warn("Error updating star status:",i)}},handleToggleRead:async o=>{const n=s.emails.find(i=>i.id===o);if(n)try{if(!s.selectedAccountEmail)throw new Error("No account email selected");const i=s.emails.map(c=>c.id===o?{...c,isRead:!c.isRead}:c);a(c=>({...c,emails:i,filteredEmails:i,unreadCount:c.unreadCount+(n.isRead?1:-1)}));const f=[n.isRead?`/api/emails/v2/${s.selectedAccountEmail}/emails/${o}/unread`:`/api/emails/v2/${s.selectedAccountEmail}/emails/${o}/read`,`/api/emails/v2/${s.selectedAccountEmail}/emails/${o}`,`/api/emails/${s.selectedAccountEmail}/emails/${o}/read`];let C=!1;for(const c of f)try{c.includes("/read")||c.includes("/unread")?await R.patch(c):await R.patch(c,{read:!n.isRead}),C=!0,A(`Read status toggled using endpoint: ${c}`);break}catch(I){console.warn(`Failed to toggle read status using endpoint: ${c}`,I)}C||console.error("All read status endpoints failed, but UI was updated")}catch(i){console.warn("Error updating read status:",i)}},handleMarkAllRead:async()=>{if(!s.selectedAccountEmail){A("No account email selected"),a(o=>({...o,error:"No email account selected"}));return}try{await R.patch(`/api/emails/v2/${s.selectedAccountEmail}/emails/mark-all-read`,{folder:s.currentFolder});const o=s.emails.map(n=>n.folder===s.currentFolder?{...n,isRead:!0}:n);a(n=>({...n,emails:o,filteredEmails:o,unreadCount:0}))}catch(o){_(o,"Failed to mark all as read")}},toggleMobileSidebar:()=>{a(o=>({...o,mobileSidebarOpen:!o.mobileSidebarOpen}))},handleCompose:()=>{a(o=>({...o,composeOpen:!0,replyTo:null,forwardEmail:null}))},handleCloseCompose:()=>{a(o=>({...o,composeOpen:!1,replyTo:null,forwardEmail:null}))},handleReplyEmail:o=>{a(n=>({...n,composeOpen:!0,replyTo:o,forwardEmail:null}))},handleForwardEmail:o=>{a(n=>({...n,composeOpen:!0,replyTo:null,forwardEmail:o}))},handleDeleteEmail:async o=>{try{if(!s.selectedAccountEmail)throw new Error("No account email selected");await R.delete(`/api/emails/v2/${s.selectedAccountEmail}/emails/${o}`);const n=s.emails.filter(i=>i.id!==o);a(i=>({...i,emails:n,filteredEmails:n,selectedEmailId:null,detailViewOpen:!1}))}catch(n){_(n,"Failed to delete email")}},handlePreviousEmail:()=>{if(!s.selectedEmailId||!s.hasPreviousEmail)return;const o=s.filteredEmails.findIndex(n=>n.id===s.selectedEmailId);if(o>0){const n=s.filteredEmails[o-1];g.handleEmailSelect(n.id)}},handleNextEmail:()=>{if(!s.selectedEmailId||!s.hasNextEmail)return;const o=s.filteredEmails.findIndex(n=>n.id===s.selectedEmailId);if(o<s.filteredEmails.length-1){const n=s.filteredEmails[o+1];g.handleEmailSelect(n.id)}},handleSendEmail:async o=>{try{if(!s.selectedAccountEmail)throw A("No account email selected"),a(f=>({...f,error:"No email account selected"})),new Error("No email account selected");A("Sending email",{from:s.selectedAccountEmail,to:o.to,subject:o.subject});const n={to:o.to,cc:o.cc||[],bcc:o.bcc||[],subject:o.subject||"(No Subject)",body:typeof o.body=="string"?{text:o.body,html:o.body}:o.body&&typeof o.body=="object"?{text:o.body.text||(o.body.html?o.body.html.replace(/<[^>]*>/g,""):""),html:o.body.html||o.body.text||""}:{text:"",html:""},attachments:o.attachments||[]};a(f=>({...f,loading:!0})),A("Sending formatted email data:",n);const i=await R.post(`/api/emails/v2/${s.selectedAccountEmail}/send`,n);A("Email sent successfully",i.data),g.handleCloseCompose(),a(f=>({...f,loading:!1,error:null})),s.currentFolder==="sent"&&(A("Refreshing sent folder after successful send"),setTimeout(()=>g.handleRefresh(),1e3));return}catch(n){console.error("Error sending email:",n);const i=n?.response?.data?.message||n?.response?.data?.error||n?.message||"Failed to send email";throw a(f=>({...f,loading:!1,error:i})),new Error(i)}}},E=s.selectedEmailId&&s.emails.find(o=>o.id===s.selectedEmailId)||null;return{state:s,handlers:g,selectedEmail:E}};function ta(){const s=ce(),a=gt(s.breakpoints.down("md")),m=gt(s.breakpoints.down("lg")),{state:r,handlers:d,selectedEmail:V}=ea(),[R,_]=y.useState(!1),[D,j]=y.useState(!1),[g,E]=y.useState(null),[o,n]=y.useState(0),[i,f]=y.useState(20);y.useEffect(()=>{m&&!a?_(!0):m||_(!1)},[m,a]),y.useEffect(()=>{n(0)},[r.currentFolder,r.searchTerm]),y.useEffect(()=>{const S=setTimeout(()=>{r.loading&&console.log("Long running operation detected")},5e3);return()=>clearTimeout(S)},[r.loading]),y.useEffect(()=>{if(r.error){E(r.error);const S=setTimeout(()=>E(null),5e3);return()=>clearTimeout(S)}},[r.error]);const C=y.useMemo(()=>{const S=o*i;return r.filteredEmails.slice(S,S+i)},[r.filteredEmails,o,i]),c=()=>_(S=>!S),I=()=>j(S=>!S),h=(S,J)=>n(J),v=S=>{f(parseInt(S.target.value,10)),n(0)},k=R?72:280;return e.jsxDEV(p,{component:fe.div,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},sx:{display:"flex",flexDirection:"column",height:D?"100vh":"calc(100vh - 64px)",maxHeight:"100vh",width:"100%",overflow:"hidden",bgcolor:"background.default",position:D?"fixed":"relative",top:D?0:"auto",left:D?0:"auto",right:D?0:"auto",bottom:D?0:"auto",zIndex:D?1300:"auto",m:D?0:void 0,p:D?0:void 0},children:[a&&e.jsxDEV(Jo,{currentFolder:r.currentFolder,onOpenSidebar:d.toggleMobileSidebar,unreadCount:r.unreadCount,onCompose:d.handleCompose},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailClient.tsx",lineNumber:111,columnNumber:9},this),e.jsxDEV(jo,{open:!!g,autoHideDuration:5e3,onClose:()=>E(null),anchorOrigin:{vertical:"top",horizontal:"center"},children:e.jsxDEV(vo,{severity:"error",onClose:()=>E(null),children:g},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailClient.tsx",lineNumber:126,columnNumber:9},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailClient.tsx",lineNumber:120,columnNumber:7},this),e.jsxDEV(p,{sx:{display:"flex",flexGrow:1,overflow:"hidden",width:"100%",position:"relative"},children:[r.loading&&e.jsxDEV(p,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,bgcolor:"rgba(0, 0, 0, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1400,backdropFilter:"blur(2px)"},children:e.jsxDEV(Ns,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailClient.tsx",lineNumber:157,columnNumber:13},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailClient.tsx",lineNumber:142,columnNumber:11},this),a?e.jsxDEV(Do,{anchor:"left",open:r.mobileSidebarOpen,onClose:d.toggleMobileSidebar,ModalProps:{keepMounted:!0},sx:{"& .MuiDrawer-paper":{width:280,boxSizing:"border-box",bgcolor:"background.paper"},display:{xs:"block",md:"none"},zIndex:1500},children:e.jsxDEV(Jt,{accounts:r.accounts,selectedAccount:r.selectedAccount,currentFolder:r.currentFolder,unreadCounts:r.unreadCounts,onAccountChange:d.handleAccountChange,onFolderChange:S=>{d.handleFolderChange(S),d.toggleMobileSidebar()},onCompose:d.handleCompose,onCloseMobileSidebar:d.toggleMobileSidebar,isMobile:!0,collapsed:!1},r.selectedAccount,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailClient.tsx",lineNumber:202,columnNumber:13},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailClient.tsx",lineNumber:187,columnNumber:11},this):e.jsxDEV(p,{sx:{width:k,flexShrink:0,borderColor:"divider",display:{xs:"none",md:"block"},transition:s.transitions.create("width"),position:"relative"},children:e.jsxDEV(Jt,{accounts:r.accounts,selectedAccount:r.selectedAccount,currentFolder:r.currentFolder,unreadCounts:r.unreadCounts,onAccountChange:d.handleAccountChange,onFolderChange:d.handleFolderChange,onCompose:d.handleCompose,onCloseMobileSidebar:d.toggleMobileSidebar,isMobile:a,collapsed:R},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailClient.tsx",lineNumber:173,columnNumber:13},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailClient.tsx",lineNumber:163,columnNumber:11},this),e.jsxDEV(p,{component:fe.div,initial:{opacity:0},animate:{opacity:1},sx:{flexGrow:1,display:"flex",flexDirection:"column",overflow:"hidden",width:{xs:"100%",md:a?"100%":`calc(100% - ${k}px)`},backgroundColor:"background.default",borderRadius:D?0:{xs:1,md:2},border:D?0:1,borderColor:"divider",mt:D?0:{xs:1,md:0},transition:s.transitions.create(["width","margin","border-radius"])},children:[e.jsxDEV(Co,{searchTerm:r.searchTerm,onSearchChange:d.handleSearchChange,onClearSearch:d.handleClearSearch,onRefresh:d.handleRefresh,isLoading:r.loading,currentFolder:r.currentFolder,onMarkAllRead:d.handleMarkAllRead,onToggleSidebar:a?void 0:c,isSidebarCollapsed:a?!1:R,isFullScreen:D,onToggleFullScreen:I},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailClient.tsx",lineNumber:244,columnNumber:11},this),e.jsxDEV(p,{sx:{flexGrow:1,overflow:"hidden",position:"relative",display:"flex"},children:[e.jsxDEV(p,{sx:{flexGrow:1,overflow:"auto",display:a&&r.detailViewOpen?"none":"block",width:m&&r.detailViewOpen?"40%":"100%",zIndex:0},children:e.jsxDEV(wo,{emails:C,loading:r.loading,onEmailClick:d.handleEmailSelect,onToggleStar:d.handleToggleStar,onToggleRead:d.handleToggleRead,onDelete:d.handleDeleteEmail,selectedEmailId:r.selectedEmailId,onEmailSelect:d.handleEmailSelect,searchTerm:r.searchTerm,currentFolder:r.currentFolder,totalCount:r.filteredEmails.length,page:o,rowsPerPage:i,onPageChange:h,onRowsPerPageChange:v},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailClient.tsx",lineNumber:277,columnNumber:15},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailClient.tsx",lineNumber:268,columnNumber:13},this),r.detailViewOpen&&V&&e.jsxDEV(p,{sx:{flexGrow:1,overflow:"hidden",display:"flex",flexDirection:"column",position:{xs:"absolute",md:"relative"},top:0,left:0,width:"100%",height:"100%",bgcolor:"background.paper",zIndex:1,...m&&!a?{width:"90%"}:{}},children:e.jsxDEV(Zo,{email:V,onClose:d.handleCloseDetailView,onPrevious:d.handlePreviousEmail,onNext:d.handleNextEmail,hasPrevious:r.hasPreviousEmail,hasNext:r.hasNextEmail,onReply:d.handleReplyEmail,onForward:d.handleForwardEmail,onDelete:d.handleDeleteEmail,onToggleStar:d.handleToggleStar,onToggleRead:d.handleToggleRead},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailClient.tsx",lineNumber:314,columnNumber:17},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailClient.tsx",lineNumber:298,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailClient.tsx",lineNumber:259,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailClient.tsx",lineNumber:222,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailClient.tsx",lineNumber:131,columnNumber:7},this),e.jsxDEV(Qo,{open:r.composeOpen,onClose:d.handleCloseCompose,replyTo:r.replyTo,forwardEmail:r.forwardEmail,onSend:d.handleSendEmail,selectedAccount:r.accounts.find(S=>S.id===r.selectedAccount)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailClient.tsx",lineNumber:334,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/components/mailbox/EmailClient.tsx",lineNumber:85,columnNumber:5},this)}function pa(s){const a={...uo,...co,...mo,...lo},m="https://replai.tech",r=localStorage.getItem("token");ce();const[d,V]=y.useState(!1),R=ks();y.useEffect(()=>{(async()=>{try{if(!r){console.log("No authentication token found"),V(!1);return}const g=(await Es.get(`${m}/api/emails/auth/connected`,{headers:{Authorization:`Bearer ${r}`}})).data;if(console.log("Connected emails:",g),g&&g.length>0){const E=g.filter(o=>o.status==="active");E.length>0?(console.log("Active connected emails:",E),V(!0)):(console.log("No active email connections found."),V(!1))}else console.log("No connected emails found."),V(!1)}catch(j){console.error("Failed to fetch email connections:",j),V(!1)}})()},[m,r]);const _=()=>{R("/email-manager")};return e.jsxDEV(Is,{...s,themeComponents:a,children:[e.jsxDEV(Ro,{enableColorScheme:!0},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/InboxEmail.tsx",lineNumber:113,columnNumber:7},this),e.jsxDEV(p,{sx:{display:"flex"},children:[e.jsxDEV(ao,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/InboxEmail.tsx",lineNumber:115,columnNumber:9},this),e.jsxDEV(io,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/InboxEmail.tsx",lineNumber:116,columnNumber:9},this),e.jsxDEV(p,{component:fe.div,initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},sx:D=>({flexGrow:1,backgroundColor:q(D.palette.background.default,1),overflow:"auto",minHeight:"100vh"}),children:[e.jsxDEV(yo,{spacing:2,sx:{alignItems:"center",mx:{xs:2,sm:3},pb:2,mt:{xs:8,md:0}},children:e.jsxDEV(no,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/InboxEmail.tsx",lineNumber:140,columnNumber:13},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/InboxEmail.tsx",lineNumber:131,columnNumber:11},this),e.jsxDEV(p,{sx:{px:{xs:2,sm:3},mb:4,maxWidth:1400,mx:"auto"},children:[e.jsxDEV(p,{sx:{display:"flex",flexDirection:{xs:"column",md:"column"},alignItems:{xs:"stretch",md:"left"},justifyContent:"space-between",gap:2,mb:3,mt:2},children:[e.jsxDEV(M,{variant:"h4",component:"h1",sx:{fontWeight:700,mb:1,background:"linear-gradient(90deg,rgb(0, 98, 255),rgb(43, 156, 255))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Email Inbox"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/InboxEmail.tsx",lineNumber:164,columnNumber:15},this),e.jsxDEV(M,{variant:"body1",color:"text.secondary",mt:-1,children:"View and manage your emails from different providers. Connect your accounts to get started."},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/InboxEmail.tsx",lineNumber:178,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/InboxEmail.tsx",lineNumber:153,columnNumber:13},this),e.jsxDEV(p,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:2},children:d?e.jsxDEV(ta,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/InboxEmail.tsx",lineNumber:192,columnNumber:15},this):e.jsxDEV(ke,{elevation:0,sx:{p:5,width:"100%",borderRadius:2,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"1px dashed",borderColor:"divider",textAlign:"center",py:8},children:[e.jsxDEV(so,{sx:{fontSize:80,color:"primary.main",mb:3,opacity:.8}},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/InboxEmail.tsx",lineNumber:210,columnNumber:17},this),e.jsxDEV(M,{variant:"h5",gutterBottom:!0,fontWeight:"medium",children:"No Email Accounts Connected"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/InboxEmail.tsx",lineNumber:218,columnNumber:17},this),e.jsxDEV(M,{variant:"body1",color:"text.secondary",sx:{maxWidth:450,mb:4},children:"Connect your email account to start using Replai's AI-powered email automation. Train the AI with your communication style and choose between automatic replies or draft mode."},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/InboxEmail.tsx",lineNumber:221,columnNumber:17},this),e.jsxDEV(te,{variant:"contained",startIcon:e.jsxDEV(oo,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/InboxEmail.tsx",lineNumber:231,columnNumber:30},this),size:"large",onClick:_,sx:{px:4,py:1.5,borderRadius:2,textTransform:"none",fontWeight:600},children:"Connect Email Account"},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/InboxEmail.tsx",lineNumber:229,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/InboxEmail.tsx",lineNumber:194,columnNumber:15},this)},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/InboxEmail.tsx",lineNumber:183,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/InboxEmail.tsx",lineNumber:144,columnNumber:11},this),e.jsxDEV(ro,{},void 0,!1,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/InboxEmail.tsx",lineNumber:248,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/InboxEmail.tsx",lineNumber:119,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/InboxEmail.tsx",lineNumber:114,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/sumon/42-projects/Replai.tech/frontend/src/templates/dashboard/InboxEmail.tsx",lineNumber:112,columnNumber:5},this)}export{pa as default};
