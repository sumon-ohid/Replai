import{al as Y,j as e,aA as Ge,ao as r,Y as j,ap as d,U as M,W as G,aC as Ne,w as i,as as N,aN as V,aK as Be,aL as re,P as H,aG as Le,Z as w,aq as Oe,aP as Fe,a1 as He,T as Ue,X as ne,aQ as Ve,aM as se,D as E,L as z,E as R,aR as Ke,an as qe}from"./mui-core-DOYD86GU.js";import{S as Qe,A as Ye,H as Xe,D as Ze}from"./Footer-Bup7o7W3.js";import{A as _e}from"./index-DpSzz6g3.js";import{t as Je,d as et,a as tt,c as at}from"./treeView-D9GhbMOU.js";import{a as h,i as ot}from"./react-vendor-DaePdQuf.js";import{a as rt}from"./utils-DW_MHI2K.js";import{ab as nt,ac as st,ad as xe,ae as pe,af as $,ag as me,p as he,ah as ue,ai as it,aj as lt,ak as dt,al as ct,am as ie,a1 as le,g as de,an as U,ao as xt,ap as pt,aq as mt,ar as ht,as as ut,at as bt}from"./mui-icons-Dt2vrCwP.js";import{D as gt}from"./data-grid-C3egMnXH.js";import{m as be}from"./animations-Dbd-n05v.js";import"./ColorModeIconDropdown-9PVwswVS.js";const ft=({open:a,onClose:y,email:s,onPrevious:b,onNext:x,hasPrevious:p,hasNext:K})=>{const l=Y(),[f,W]=h.useState(0),[T,D]=h.useState(!1);h.useEffect(()=>{s&&D(s.isStarred||!1)},[s]);const S=(c,g)=>{W(g)};if(!s)return null;const B=c=>c.split(" ").map(g=>g[0]).join("").toUpperCase().substring(0,2),L=c=>{const g=c.split("<");return g.length>1?g[0].trim():c.split("@")[0].split(".").map(O=>O.charAt(0).toUpperCase()+O.slice(1)).join(" ")},P=c=>{const g=c.split("<");return g.length>1?`${g[0].trim()} <${g[1]}`:c};return e.jsxs(Ge,{open:a,onClose:y,fullWidth:!0,maxWidth:"md",sx:{backdropFilter:"blur(5px)","& .MuiDialog-paper":{borderRadius:3,overflow:"hidden",boxShadow:l.palette.mode==="dark"?"0 8px 32px rgba(0, 0, 0, 0.5)":"0 8px 32px rgba(0, 0, 0, 0.1)",backgroundColor:"background.paper"}},children:[e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",px:3,py:2,borderBottom:"1px solid",borderColor:l.palette.divider,backgroundColor:"background.paper"},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(j,{onClick:y,size:"small",children:e.jsx(nt,{fontSize:"small"})}),e.jsx(d,{variant:"h6",fontWeight:600,children:"Email Details"}),e.jsx(M,{label:s.status,size:"small",color:s.status==="Sent"?"success":"primary",sx:{ml:1,fontWeight:500,textTransform:"uppercase",fontSize:"0.7rem",height:24}})]}),e.jsxs(r,{sx:{display:"flex",gap:1},children:[e.jsx(G,{title:"Previous email",children:e.jsx("span",{children:e.jsx(j,{size:"small",onClick:b,disabled:!p,children:e.jsx(st,{fontSize:"small"})})})}),e.jsx(G,{title:"Next email",children:e.jsx("span",{children:e.jsx(j,{size:"small",onClick:x,disabled:!K,children:e.jsx(xe,{fontSize:"small"})})})}),e.jsx(G,{title:"Close",children:e.jsx(j,{onClick:y,size:"small",children:e.jsx(pe,{fontSize:"small"})})})]})]}),e.jsx(Ne,{sx:{p:0,backgroundColor:"background.paper"},children:e.jsxs(r,{sx:{height:"70vh",display:"flex",flexDirection:"column"},children:[e.jsxs(r,{sx:{p:3,backgroundColor:l.palette.mode==="dark"?i(l.palette.background.paper,.4):i(l.palette.background.paper,.4)},children:[e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[e.jsx(d,{variant:"h5",sx:{fontWeight:600,lineHeight:1.3},children:s.subject}),e.jsx(j,{onClick:()=>D(!T),sx:{color:T?l.palette.warning.main:l.palette.text.secondary},children:T?e.jsx($,{}):e.jsx(me,{})})]}),e.jsxs(N,{direction:{xs:"column",sm:"row"},spacing:2,alignItems:{xs:"flex-start",sm:"center"},justifyContent:"space-between",children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(V,{src:s.avatar,sx:{width:48,height:48,bgcolor:l.palette.primary.main},children:B(s.from)}),e.jsxs(r,{children:[e.jsx(d,{variant:"subtitle1",fontWeight:500,children:L(s.from)}),e.jsx(d,{variant:"body2",color:"text.secondary",children:P(s.from)})]})]}),e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsxs(d,{variant:"body2",color:"text.secondary",sx:{display:"flex",alignItems:"center",gap:.5},children:[e.jsx(he,{fontSize:"small",sx:{fontSize:16}}),s.dateSent]}),s.hasAttachment&&e.jsx(M,{icon:e.jsx(ue,{}),label:"Attachment",size:"small",variant:"outlined",sx:{borderColor:i(l.palette.primary.main,.3),backgroundColor:i(l.palette.primary.main,.05)}})]})]})]}),e.jsx(r,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs(Be,{value:f,onChange:S,sx:{px:3,"& .MuiTab-root":{textTransform:"none",minWidth:100,fontWeight:500}},children:[e.jsx(re,{label:"Message"}),e.jsx(re,{label:"Details"})]})}),e.jsxs(r,{sx:{flexGrow:1,overflow:"auto",px:3,py:2},children:[f===0&&e.jsx(H,{elevation:0,sx:{p:3,borderRadius:2,border:"1px solid",borderColor:l.palette.divider,backgroundColor:l.palette.background.paper,minHeight:300},children:e.jsx(d,{variant:"body1",sx:{lineHeight:1.8,whiteSpace:"pre-line"},children:s.content})}),f===1&&e.jsxs(N,{spacing:3,children:[e.jsxs(H,{elevation:0,sx:{p:3,borderRadius:2,border:"1px solid",borderColor:l.palette.divider},children:[e.jsx(d,{variant:"body2",fontWeight:600,color:"text.secondary",gutterBottom:!0,children:"To"}),e.jsx(d,{variant:"body1",children:P(s.to)})]}),e.jsxs(H,{elevation:0,sx:{p:3,borderRadius:2,border:"1px solid",borderColor:l.palette.divider},children:[e.jsx(d,{variant:"body2",fontWeight:600,color:"text.secondary",gutterBottom:!0,children:"Subject"}),e.jsx(d,{variant:"body1",children:s.subject})]}),e.jsxs(H,{elevation:0,sx:{p:3,borderRadius:2,border:"1px solid",borderColor:l.palette.divider,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs(r,{children:[e.jsx(d,{variant:"body2",fontWeight:600,color:"text.secondary",gutterBottom:!0,children:"Delivery Time"}),e.jsx(d,{variant:"body1",children:s.dateSent})]}),e.jsx(M,{label:s.status,color:s.status==="Sent"?"success":"primary",size:"small",sx:{fontWeight:600}})]})]})]})]})}),e.jsxs(Le,{sx:{justifyContent:"space-between",px:3,py:2,borderTop:"1px solid",borderColor:l.palette.divider,backgroundColor:"background.paper"},children:[e.jsxs(r,{children:[e.jsx(w,{variant:"contained",startIcon:e.jsx(it,{}),disableElevation:!0,sx:{mb:{xs:1,sm:0},borderRadius:2,mr:2,textTransform:"none",fontWeight:600,boxShadow:l.palette.mode==="dark"?`0 4px 12px ${i(l.palette.common.black,.3)}`:`0 4px 12px ${i(l.palette.primary.main,.2)}`},children:"Reply"}),e.jsx(w,{variant:"outlined",startIcon:e.jsx(lt,{}),sx:{borderRadius:2,textTransform:"none",fontWeight:600},children:"Forward"})]}),e.jsx(w,{variant:"outlined",color:"error",startIcon:e.jsx(dt,{}),sx:{borderRadius:2,textTransform:"none",fontWeight:600},children:"Delete"})]})]})},ce="https://replai.tech",Q=[{id:"1",name:"Work",email:"work@example.com",avatar:"ðŸ‘”"},{id:"2",name:"Personal",email:"personal@example.com",avatar:"ðŸ "},{id:"3",name:"Business",email:"business@example.com",avatar:"ðŸ’¼"}],k=({icon:a,label:y,count:s,selected:b,onClick:x})=>{const p=Y();return e.jsxs(Ke,{onClick:x,sx:{borderRadius:2,mb:.5,py:1,backgroundColor:b?i(p.palette.primary.main,.1):"transparent",color:b?p.palette.primary.main:p.palette.text.primary,"&:hover":{backgroundColor:b?i(p.palette.primary.main,.15):i(p.palette.action.hover,.8)}},children:[e.jsx(z,{sx:{minWidth:36,color:b?p.palette.primary.main:p.palette.text.secondary},children:a}),e.jsx(R,{primary:y,primaryTypographyProps:{fontWeight:b?600:500,fontSize:"0.875rem"}}),s!==void 0&&e.jsx(M,{label:s,size:"small",color:b?"primary":"default",sx:{height:22,fontWeight:600,fontSize:"0.75rem"}})]})};function jt(){const a=Y(),y=Oe(a.breakpoints.down("md")),[s,b]=h.useState([]),[x,p]=h.useState([]),[K,l]=h.useState(null),[f,W]=h.useState(-1),[T,D]=h.useState(!1),[S,B]=h.useState(""),[L,P]=h.useState(!0),[c,g]=h.useState("inbox"),[A,O]=h.useState(Q[0].id),[X,Z]=h.useState(null),[ge,q]=h.useState(!1),[_,J]=h.useState(null),fe=t=>{Z(t.currentTarget)},ee=()=>{Z(null)},je=t=>{O(t),ee(),F(t,c)},u=Q.find(t=>t.id===A),ye=t=>{J(t.currentTarget)},Ce=()=>{J(null)},v=t=>{g(t),F(A,t),q(!1)},F=async(t=A,o=c)=>{P(!0);try{const m=localStorage.getItem("token");if(!m){console.error("No token found");return}let n=`${ce}/api/emails/get-emails`;o!=="inbox"&&(n=`${ce}/api/emails/${o}`);const ae=(await rt.get(n,{headers:{Authorization:`Bearer ${m}`},params:{accountId:t,folder:o}})).data.map((I,$e)=>{var oe;return{id:$e+1,subject:I.subject||"No subject",status:o==="sent"?"Sent":o==="drafts"?"Draft":"Received",from:I.sender||"No sender",to:I.receiver||"No receiver",content:I.bodyPreview||"No content",dateSent:new Date(I.timeSent).toLocaleString()||"No date",isRead:o==="inbox"?Math.random()>.4:!0,hasAttachment:Math.random()>.7,isStarred:Math.random()>.8,preview:((oe=I.bodyPreview)==null?void 0:oe.substring(0,100))+"..."||"No preview available...",folder:o}});b(ae),p(ae)}catch(m){console.error("Error fetching emails:",m);const n=Array.from({length:20},(Ee,C)=>({id:C+1,subject:o==="drafts"?`Draft: Meeting agenda for next week ${C+1}`:`${o==="sent"?"RE: ":""}Important update about the project ${C+1}`,status:o==="sent"?"Sent":o==="drafts"?"Draft":"Received",from:o==="sent"?(u==null?void 0:u.email)||"me@example.com":`contact${C+1}@example.com`,to:o==="sent"?`client${C+1}@example.com`:(u==null?void 0:u.email)||"me@example.com",content:`This is a sample email content. It contains information about the project update ${C+1}.`,dateSent:new Date(Date.now()-C*36e5*24).toLocaleString(),isRead:o==="inbox"?Math.random()>.4:!0,hasAttachment:Math.random()>.7,isStarred:Math.random()>.8,preview:`This is a sample email content preview. It contains information about the project update ${C+1}...`,folder:o}));b(n),p(n)}finally{P(!1)}};h.useEffect(()=>{F()},[]);const ve=t=>{const o=x.findIndex(n=>n.id===t.id),m=x.find(n=>n.id===t.id);l(m||null),W(o),D(!0)},ke=()=>{D(!1),l(null)},we=()=>{if(f>0){const t=f-1;W(t),l(x[t])}},Se=()=>{if(f<x.length-1){const t=f+1;W(t),l(x[t])}},Ie=t=>{const o=t.target.value.toLowerCase();B(o);const m=s.filter(n=>n.subject.toLowerCase().includes(o)||n.from.toLowerCase().includes(o)||n.to.toLowerCase().includes(o)||n.content.toLowerCase().includes(o));p(m)},ze=()=>{B(""),p(s)},Re=()=>{F(A,c)},Me=(t,o)=>{o.stopPropagation(),b(m=>m.map(n=>n.id===t?{...n,isStarred:!n.isStarred}:n)),p(m=>m.map(n=>n.id===t?{...n,isStarred:!n.isStarred}:n))},We=(t,o)=>{b(m=>m.map(n=>t.includes(n.id)?{...n,isRead:o}:n)),p(m=>m.map(n=>t.includes(n.id)?{...n,isRead:o}:n))},Te=t=>s.filter(o=>o.folder===t&&!o.isRead).length,De=[{field:"recipient",headerName:"Recipient",flex:1.5,minWidth:150,renderCell:t=>e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1,minWidth:0},children:[e.jsx(V,{sx:{width:28,height:28,fontSize:"0.85rem",bgcolor:t.row.isRead?a.palette.grey[500]:a.palette.primary.main},children:t.row.avatar}),e.jsx(d,{variant:"body2",sx:{fontWeight:t.row.isRead?400:600,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.row.to}),t.row.hasAttachment&&e.jsx(ue,{fontSize:"small",sx:{ml:"auto",color:a.palette.text.secondary,fontSize:16}})]})},{field:"subject",headerName:"Subject",flex:3,minWidth:200,renderCell:t=>e.jsxs(r,{sx:{minWidth:0},children:[e.jsx(d,{variant:"body2",sx:{fontWeight:t.row.isRead?400:600,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.value}),e.jsx(d,{variant:"caption",color:"text.secondary",sx:{display:"block",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:t.row.isRead?400:500},children:t.row.preview})]})},{field:"dateSent",headerName:"Date",flex:1,minWidth:120,renderCell:t=>e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(he,{fontSize:"small",sx:{color:a.palette.text.secondary}}),e.jsx(d,{variant:"body2",color:"textSecondary",children:t.value})]})},{field:"actions",headerName:"Star",width:70,flex:.5,minWidth:50,sortable:!1,renderCell:t=>e.jsx(r,{sx:{display:"flex",alignItems:"center",gap:1},children:e.jsx(j,{size:"small",onClick:o=>Me(t.row.id,o),sx:{color:t.row.isStarred?a.palette.warning.main:a.palette.text.disabled},children:t.row.isStarred?e.jsx($,{fontSize:"small"}):e.jsx(me,{fontSize:"small"})})})}],Pe=ot(),te=e.jsxs(N,{spacing:1,sx:{height:{xs:"100%",sm:"auto"},p:2,backgroundColor:"background.default"},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(d,{variant:"h6",sx:{flexGrow:1,fontWeight:600,color:a.palette.mode==="dark"?a.palette.common.white:a.palette.common.black},children:"Mail"}),e.jsx(w,{variant:"contained",startIcon:e.jsx(ct,{}),disableElevation:!0,sx:{borderRadius:6,px:2,size:"small",textTransform:"none",fontWeight:400,boxShadow:a.palette.mode==="dark"?`0 4px 12px ${i(a.palette.common.black,.3)}`:`0 4px 12px ${i(a.palette.primary.main,.2)}`},children:"Compose"})]}),e.jsx(w,{onClick:fe,variant:"outlined",sx:{justifyContent:"flex-start",textTransform:"none",borderRadius:2,mb:2,py:1,borderColor:a.palette.divider,"&:hover":{borderColor:a.palette.primary.main}},startIcon:e.jsx(V,{sx:{width:24,height:24,bgcolor:a.palette.primary.main,fontSize:"0.8rem",fontWeight:"bold"},children:(u==null?void 0:u.avatar)||(u==null?void 0:u.name.charAt(0))}),endIcon:e.jsx(xe,{fontSize:"small",sx:{ml:"auto",color:a.palette.action.active}}),children:e.jsxs(r,{sx:{textAlign:"left",flexGrow:1,overflow:"hidden"},children:[e.jsx(d,{noWrap:!0,variant:"body2",fontWeight:600,color:a.palette.mode==="dark"?a.palette.common.white:a.palette.common.black}),e.jsx(d,{noWrap:!0,variant:"caption",color:"text.secondary",children:u==null?void 0:u.email})]})}),e.jsxs(Fe,{disablePadding:!0,sx:{flexGrow:1,overflowY:"auto",scrollbarWidth:"thin"},children:[e.jsx(k,{icon:e.jsx(ie,{fontSize:"small"}),label:"Inbox",count:Te("inbox"),selected:c==="inbox",onClick:()=>v("inbox")}),e.jsx(k,{icon:e.jsx(le,{fontSize:"small"}),label:"Drafts",count:s.filter(t=>t.folder==="drafts").length,selected:c==="drafts",onClick:()=>v("drafts")}),e.jsx(k,{icon:e.jsx(de,{fontSize:"small"}),label:"Sent",selected:c==="sent",onClick:()=>v("sent")}),e.jsx(k,{icon:e.jsx($,{fontSize:"small",sx:{color:a.palette.warning.main}}),label:"Starred",count:s.filter(t=>t.isStarred).length,selected:c==="starred",onClick:()=>v("starred")}),e.jsx(He,{sx:{my:2}}),e.jsx(d,{variant:"overline",sx:{px:2,py:1,display:"block",color:a.palette.text.secondary,fontSize:"0.75rem",fontWeight:600,letterSpacing:"0.5px"},children:"Labels"}),e.jsx(k,{icon:e.jsx(U,{fontSize:"small",sx:{color:a.palette.success.main}}),label:"Work"}),e.jsx(k,{icon:e.jsx(U,{fontSize:"small",sx:{color:a.palette.info.main}}),label:"Personal"}),e.jsx(k,{icon:e.jsx(U,{fontSize:"small",sx:{color:a.palette.warning.main}}),label:"Important"}),e.jsx(k,{icon:e.jsx(U,{fontSize:"small",sx:{color:a.palette.error.main}}),label:"Urgent"})]}),e.jsx(w,{variant:"outlined",startIcon:e.jsx(xt,{}),sx:{justifyContent:"flex-start",textTransform:"none",color:a.palette.text.secondary,fontWeight:500,"&:hover":{backgroundColor:i(a.palette.action.hover,.8)}},onClick:()=>Pe("/email-manager"),children:"Email settings"})]}),Ae=e.jsxs(r,{sx:{flexGrow:1,display:"flex",flexDirection:"column",mt:2},children:[e.jsxs(r,{sx:{display:"flex",flexDirection:{xs:"row",sm:"row"},justifyContent:"space-between",alignItems:"center",mb:2,gap:2},children:[y&&e.jsx(j,{edge:"start",onClick:()=>q(!0),sx:{mr:1},children:e.jsx(pt,{})}),e.jsx(d,{variant:"h6",sx:{display:{xs:"block",md:"none"},fontWeight:600,color:a.palette.mode==="dark"?a.palette.common.white:a.palette.common.black},children:c.charAt(0).toUpperCase()+c.slice(1)}),e.jsx(Ue,{placeholder:"Search emails...",variant:"outlined",size:"small",value:S,onChange:Ie,InputProps:{startAdornment:e.jsx(ne,{position:"start",children:e.jsx(mt,{fontSize:"small"})}),endAdornment:S&&e.jsx(ne,{position:"end",children:e.jsx(j,{size:"small",onClick:ze,edge:"end",children:e.jsx(pe,{fontSize:"small"})})}),sx:{borderRadius:2,backgroundColor:i(a.palette.background.paper,.5),"&:hover":{backgroundColor:i(a.palette.background.paper,.8)}}},sx:{flexGrow:1,maxWidth:{xs:"100%",sm:400},"& .MuiOutlinedInput-root":{borderRadius:2}}}),e.jsxs(r,{sx:{display:"flex",gap:1},children:[e.jsx(G,{title:"Menu options",children:e.jsx(j,{size:"small",onClick:ye,sx:{border:"1px solid",borderColor:a.palette.divider,borderRadius:2},children:e.jsx(ht,{fontSize:"small"})})}),e.jsx(G,{title:"Refresh",children:e.jsx(j,{size:"small",onClick:Re,sx:{border:"1px solid",borderColor:a.palette.divider,borderRadius:2,animation:L?"spin 1.5s linear infinite":"none","@keyframes spin":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}},children:e.jsx(ut,{fontSize:"small"})})}),e.jsx(w,{variant:"contained",disableElevation:!0,size:"small",startIcon:e.jsx(bt,{}),onClick:()=>We(x.filter(t=>!t.isRead).map(t=>t.id),!0),sx:{borderRadius:2,textTransform:"none",fontWeight:500,display:{xs:"none",sm:"flex"},boxShadow:a.palette.mode==="dark"?`0 4px 12px ${i(a.palette.common.black,.3)}`:`0 4px 12px ${i(a.palette.primary.main,.2)}`},children:"Mark All Read"})]})]}),e.jsxs(N,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:2,px:2,py:1,backgroundColor:i(a.palette.background.paper,.4),borderRadius:2,border:"1px solid",borderColor:a.palette.divider},children:[e.jsxs(d,{variant:"body2",color:"text.secondary",sx:{fontWeight:500},children:[x.length," email",x.length!==1?"s":"",S&&` matching "${S}"`]}),e.jsxs(r,{sx:{display:"flex",alignItems:"center"},children:[c==="inbox"&&e.jsx(M,{label:`${x.filter(t=>!t.isRead).length} unread`,size:"small",color:"primary",variant:"outlined",sx:{mr:1,fontWeight:500}}),e.jsx(M,{icon:e.jsx($,{sx:{fontSize:"0.8rem !important"}}),label:`${x.filter(t=>t.isStarred).length} starred`,size:"small",variant:"outlined",sx:{fontWeight:500,color:a.palette.warning.dark,borderColor:a.palette.warning.main,"& .MuiChip-icon":{color:a.palette.warning.main}}})]})]}),e.jsx(gt,{rows:x,columns:De,pagination:!0,rowCount:x.length,getRowClassName:t=>{const o=!t.row.isRead&&c==="inbox";return`${t.indexRelativeToCurrentPage%2===0?"even":"odd"} ${o?"unread-row":""}`},initialState:{pagination:{paginationModel:{pageSize:15}}},pageSizeOptions:[10,15,25,50],disableColumnResize:!0,autoHeight:!0,density:"comfortable",onRowClick:ve,sx:{"& .MuiDataGrid-row":{cursor:"pointer",transition:"background-color 0.2s","&:hover":{backgroundColor:t=>i(t.palette.primary.main,.04)},"&.unread-row":{backgroundColor:t=>i(t.palette.primary.main,.05),"&:hover":{backgroundColor:t=>i(t.palette.primary.main,.08)}}},"& .MuiDataGrid-cell":{py:1.5,px:2,borderBottom:"1px solid",borderColor:"divider"},"& .MuiDataGrid-columnHeader":{py:1.5,px:2,backgroundColor:t=>i(t.palette.background.paper,.6)},"& .MuiDataGrid-columnHeaderTitle":{fontWeight:600,color:t=>t.palette.mode==="dark"?t.palette.common.white:t.palette.common.black},border:"none","& .MuiDataGrid-footerContainer":{borderTop:"1px solid",borderColor:"divider",backgroundColor:t=>i(t.palette.background.paper,.4)},"& .MuiDataGrid-virtualScroller":{backgroundColor:t=>t.palette.mode==="dark"?i(t.palette.background.paper,.4):t.palette.background.paper},"& .MuiDataGrid-main":{border:"1px solid",borderColor:"divider",overflow:"hidden"},"& .MuiTablePagination-root":{color:t=>t.palette.mode==="dark"?t.palette.common.white:t.palette.text.secondary},"& .MuiCircularProgress-root":{color:t=>t.palette.primary.main},"& .MuiDataGrid-selectedRowCount":{color:t=>t.palette.mode==="dark"?t.palette.common.white:t.palette.text.secondary},"& .MuiCheckbox-root":{color:t=>t.palette.mode==="dark"?t.palette.common.white:t.palette.text.secondary,marginLeft:0},boxShadow:t=>t.palette.mode==="dark"?`0 1px 3px ${i(t.palette.common.black,.2)}`:`0 1px 3px ${i(t.palette.common.black,.1)}`},slotProps:{filterPanel:{filterFormProps:{logicOperatorInputProps:{variant:"outlined",size:"small"},columnInputProps:{variant:"outlined",size:"small",sx:{mt:"auto"}},operatorInputProps:{variant:"outlined",size:"small",sx:{mt:"auto"}}}},loadingOverlay:{sx:{backgroundColor:t=>i(t.palette.background.paper,.7),backdropFilter:"blur(4px)"}},noRowsOverlay:{sx:{padding:3}},toolbar:{sx:{p:2,borderBottom:"1px solid",borderColor:"divider",backgroundColor:t=>i(t.palette.background.paper,.4)}},pagination:{labelRowsPerPage:"Emails per page:"}},loading:L,checkboxSelection:!0,disableRowSelectionOnClick:!0,onRowSelectionModelChange:t=>{console.log("Selected emails:",t)},localeText:{noRowsLabel:"No emails found",footerRowSelected:t=>`${t} email${t!==1?"s":""} selected`}})]});return e.jsxs(r,{component:be.div,initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},sx:t=>({flexGrow:1,backgroundColor:i(t.palette.background.default,1),overflow:"auto",minHeight:"100vh"}),children:[e.jsxs(r,{sx:{px:{xs:2,sm:3},mb:4,maxWidth:1400,mx:"auto"},children:[e.jsx(Ve,{anchor:"left",open:ge,onClose:()=>q(!1),sx:{"& .MuiDrawer-paper":{width:280}},children:e.jsx(r,{sx:{width:280,height:"100%",overflow:"auto"},children:te})}),e.jsxs(r,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:2,alignItems:"stretch"},children:[e.jsx(r,{sx:{display:{xs:"none",md:"block"},width:280},children:te}),e.jsx(r,{sx:{flexGrow:1},children:Ae})]})]}),e.jsx(ft,{open:T,onClose:ke,email:K,onPrevious:we,onNext:Se,hasPrevious:f>0,hasNext:f<x.length-1}),e.jsx(se,{anchorEl:X,open:!!X,onClose:ee,PaperProps:{elevation:0,sx:{width:220,borderRadius:2,overflow:"hidden"}},children:Q.map(t=>e.jsxs(E,{onClick:()=>je(t.id),children:[e.jsx(z,{children:e.jsx(V,{sx:{width:24,height:24,bgcolor:a.palette.primary.main,fontSize:"0.8rem",fontWeight:"bold"},children:t.avatar||t.name.charAt(0)})}),e.jsx(R,{primary:t.name,secondary:t.email})]},t.id))}),e.jsxs(se,{anchorEl:_,open:!!_,onClose:Ce,PaperProps:{elevation:0,sx:{width:220,borderRadius:2,overflow:"hidden"}},children:[e.jsxs(E,{onClick:()=>v("inbox"),children:[e.jsx(z,{children:e.jsx(ie,{})}),e.jsx(R,{primary:"Inbox"})]}),e.jsxs(E,{onClick:()=>v("drafts"),children:[e.jsx(z,{children:e.jsx(le,{})}),e.jsx(R,{primary:"Drafts"})]}),e.jsxs(E,{onClick:()=>v("sent"),children:[e.jsx(z,{children:e.jsx(de,{})}),e.jsx(R,{primary:"Sent"})]}),e.jsxs(E,{onClick:()=>v("starred"),children:[e.jsx(z,{children:e.jsx($,{})}),e.jsx(R,{primary:"Starred"})]})]})]})}function Wt(a){const y={...at,...tt,...et,...Je};return e.jsxs(_e,{...a,themeComponents:y,children:[e.jsx(qe,{enableColorScheme:!0}),e.jsxs(r,{sx:{display:"flex"},children:[e.jsx(Qe,{}),e.jsx(Ye,{}),e.jsxs(r,{component:be.div,initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},sx:s=>({flexGrow:1,backgroundColor:i(s.palette.background.default,1),overflow:"auto",minHeight:"100vh"}),children:[e.jsx(N,{spacing:2,sx:{alignItems:"center",mx:{xs:2,sm:3},pb:2,mt:{xs:8,md:0}},children:e.jsx(Xe,{})}),e.jsxs(r,{sx:{px:{xs:2,sm:3},mb:4,maxWidth:1400,mx:"auto"},children:[e.jsxs(r,{sx:{display:"flex",flexDirection:{xs:"column",md:"column"},alignItems:{xs:"stretch",md:"left"},justifyContent:"space-between",gap:2,mb:3,backgroundColor:"linear-gradient(90deg,rgb(0, 98, 255),rgb(43, 156, 255))",mt:2},children:[e.jsx(d,{variant:"h4",component:"h1",sx:{fontWeight:700,mb:1,background:"linear-gradient(90deg,rgb(0, 98, 255),rgb(43, 156, 255))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Email Inbox"}),e.jsx(d,{variant:"body1",color:"text.secondary",mt:-1,children:"View and manage your emails from different providers. Connect your accounts to get started."})]}),e.jsx(r,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:2},children:e.jsx(jt,{})})]}),e.jsx(Ze,{})]})]})]})}export{Wt as default};
