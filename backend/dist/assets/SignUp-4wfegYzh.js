import{j as e,ao as h,aH as H,an as T,s as I,ap as p,aE as G,a0 as m,aI as u,T as g,H as D,a2 as U,Z as E,a1 as V,at as W,as as Z,av as q}from"./mui-core-BvDVqQNt.js";import{a as o,i as N}from"./react-vendor-DaePdQuf.js";import{l as R,A as $}from"./index-Ch2vCCmC.js";import{C as z}from"./ColorModeSelect-dVpbivPd.js";import{a as b}from"./utils-DW_MHI2K.js";import"./mui-icons-BrpH9ATo.js";import"./animations-GQCX1BUJ.js";function Y(){return e.jsx(h,{component:"img",src:R,alt:"Logo",sx:{width:110,height:40,display:"block",ml:-1},onClick:()=>window.location.href="/"})}function J(){return e.jsx(H,{children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M15.68 8.18182C15.68 7.61455 15.6291 7.06909 15.5345 6.54545H8V9.64364H12.3055C12.1164 10.64 11.5491 11.4836 10.6982 12.0509V14.0655H13.2945C14.8073 12.6691 15.68 10.6182 15.68 8.18182Z",fill:"#4285F4"}),e.jsx("path",{d:"M8 16C10.16 16 11.9709 15.2873 13.2945 14.0655L10.6982 12.0509C9.98545 12.5309 9.07636 12.8218 8 12.8218C5.92 12.8218 4.15273 11.4182 3.52 9.52727H0.858182V11.5927C2.17455 14.2036 4.87273 16 8 16Z",fill:"#34A853"}),e.jsx("path",{d:"M3.52 9.52C3.36 9.04 3.26545 8.53091 3.26545 8C3.26545 7.46909 3.36 6.96 3.52 6.48V4.41455H0.858182C0.312727 5.49091 0 6.70545 0 8C0 9.29455 0.312727 10.5091 0.858182 11.5855L2.93091 9.97091L3.52 9.52Z",fill:"#FBBC05"}),e.jsx("path",{d:"M8 3.18545C9.17818 3.18545 10.2255 3.59273 11.0618 4.37818L13.3527 2.08727C11.9636 0.792727 10.16 0 8 0C4.87273 0 2.17455 1.79636 0.858182 4.41455L3.52 6.48C4.15273 4.58909 5.92 3.18545 8 3.18545Z",fill:"#EA4335"})]})})}const k="https://replai.tech",K=I(q)(({theme:a})=>({display:"flex",flexDirection:"column",alignSelf:"center",width:"100%",padding:a.spacing(4),gap:a.spacing(2),margin:"auto",boxShadow:"hsla(220, 30%, 5%, 0.05) 0px 5px 15px 0px, hsla(220, 25%, 10%, 0.05) 0px 15px 35px -5px",[a.breakpoints.up("sm")]:{width:"450px"},...a.applyStyles("dark",{boxShadow:"hsla(220, 30%, 5%, 0.5) 0px 5px 15px 0px, hsla(220, 25%, 10%, 0.08) 0px 15px 35px -5px"})})),O=I(Z)(({theme:a})=>({height:"calc((1 - var(--template-frame-height, 0)) * 100dvh)",minHeight:"100%",padding:a.spacing(2),[a.breakpoints.up("sm")]:{padding:a.spacing(4)},"&::before":{content:'""',display:"block",position:"absolute",zIndex:-1,inset:0,backgroundImage:"radial-gradient(ellipse at 50% 50%, hsl(210, 100%, 97%), hsl(0, 0%, 100%))",backgroundRepeat:"no-repeat",...a.applyStyles("dark",{backgroundImage:"radial-gradient(at 50% 50%, hsla(210, 100%, 16%, 0.5), hsl(220, 30%, 5%))"})}}));function te(a){const[x,i]=o.useState(!1),[F,f]=o.useState(""),[w,y]=o.useState(!1),[M,c]=o.useState(""),[j,v]=o.useState(!1),[P,C]=o.useState(""),S=N(),B=()=>{const r=document.getElementById("email"),s=document.getElementById("password"),t=document.getElementById("name");let n=!0;return!r.value||!/\S+@\S+\.\S+/.test(r.value)?(i(!0),f("Please enter a valid email address."),n=!1):(i(!1),f("")),!s.value||s.value.length<6?(y(!0),c("Password must be at least 6 characters long."),n=!1):(y(!1),c("")),!t.value||t.value.length<1?(v(!0),C("Name is required."),n=!1):(v(!1),C("")),n},L=async r=>{if(r.preventDefault(),!B())return;const s=new FormData(r.currentTarget);try{const t=await b.post(`${k}/api/auth/register`,{name:s.get("name"),email:s.get("email"),password:s.get("password")});console.log(t.data.message),l({severity:"success",message:"Registered successfully! Please check your inbox or spam to verify your account."})}catch(t){l({severity:"error",message:"Email exists, Please try again with another email."}),i(!0),c("Email already exists."),console.error("Error registering user:",t)}},A=async()=>{try{const r=await b.get(`${k}/api/auth/login/google`),{authUrl:s}=r.data;window.location.href=s}catch(r){console.error("Error initiating Google sign-up:",r),l({severity:"error",message:"Error initiating Google sign-up. Please try again."})}};o.useEffect(()=>{(async()=>{const t=new URLSearchParams(window.location.search).get("token");t&&(localStorage.setItem("token",t),l({severity:"success",message:"Signed up successfully!"}),S("/dashboard"))})()},[S]);const[d,l]=o.useState(null);return e.jsxs($,{...a,children:[e.jsx(T,{enableColorScheme:!0}),e.jsx(z,{sx:{position:"fixed",top:"1rem",right:"1rem"}}),e.jsx(O,{direction:"column",justifyContent:"space-between",children:e.jsxs(K,{variant:"outlined",sx:{overflow:"auto"},children:[e.jsx(Y,{}),e.jsx(p,{component:"h1",variant:"h4",sx:{width:"100%",fontSize:"clamp(2rem, 10vw, 2.15rem)"},children:"Sign up"}),d&&e.jsx(G,{severity:d.severity,onClose:()=>l(null),children:d.message}),e.jsxs(h,{component:"form",onSubmit:L,sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsxs(m,{children:[e.jsx(u,{htmlFor:"name",children:"Full name"}),e.jsx(g,{autoComplete:"name",name:"name",required:!0,fullWidth:!0,id:"name",placeholder:"Your name",error:j,helperText:P,color:j?"error":"primary"})]}),e.jsxs(m,{children:[e.jsx(u,{htmlFor:"email",children:"Email"}),e.jsx(g,{required:!0,fullWidth:!0,id:"email",placeholder:"your@email.com",name:"email",autoComplete:"email",variant:"outlined",error:x,helperText:F,color:x?"error":"primary"})]}),e.jsxs(m,{children:[e.jsx(u,{htmlFor:"password",children:"Password"}),e.jsx(g,{required:!0,fullWidth:!0,name:"password",placeholder:"••••••",type:"password",id:"password",autoComplete:"new-password",variant:"outlined",error:w,helperText:M,color:w?"error":"primary"})]}),e.jsx(D,{control:e.jsx(U,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive updates via email."}),e.jsx(E,{type:"submit",fullWidth:!0,variant:"contained",children:"Sign up"})]}),e.jsx(V,{children:e.jsx(p,{sx:{color:"text.secondary"},children:"or"})}),e.jsxs(h,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsx(E,{fullWidth:!0,variant:"outlined",onClick:A,startIcon:e.jsx(J,{}),children:"Sign up with Google"}),e.jsxs(p,{sx:{textAlign:"center"},children:["Already have an account?"," ",e.jsx(W,{href:"/signin",variant:"body2",sx:{alignSelf:"center"},children:"Sign in"})]})]})]})})]})}export{te as default};
