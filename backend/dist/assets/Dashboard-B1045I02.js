import{al as M,aq as D,j as e,av as K,w as a,ao as n,aw as Q,ap as i,aK as q,aL as W,Z as f,N as T,a1 as J,as as O,aM as X,D as S,W as Z,P as R,ay as k,aN as z,U as _,K as ee,an as te}from"./mui-core-BvDVqQNt.js";import{S as ae,A as ne,H as se}from"./SideMenu-CsNVnQ_u.js";import{x as re,G as B,M as G,y as L,z as A,H as oe,I as ie,J as N,K as le,L as U,O as de,Q as ce,V as xe,X as me,Y as pe}from"./mui-icons-BrpH9ATo.js";import{a as u,i as he}from"./react-vendor-DaePdQuf.js";import{a as H}from"./utils-DW_MHI2K.js";import{m as h}from"./animations-GQCX1BUJ.js";import{A as ue}from"./index-Ch2vCCmC.js";import{t as ge,d as be,a as fe,c as je}from"./treeView-DNJjjNft.js";import{D as ye}from"./Footer-IM-HUNU_.js";import"./ColorModeIconDropdown-BU6ylaH-.js";import"./data-grid-Dlb7qzIv.js";const ke="https://replai.tech";function ve(){const t=M(),[o,d]=u.useState(!1),[m,c]=u.useState(0);D(t.breakpoints.down("sm"));const x=D(t.breakpoints.down("md")),p=t.palette.mode==="dark",r=(v,y)=>{c(y)},g=async()=>{d(!0);const v=localStorage.getItem("token");if(!v){console.error("No token found"),d(!1);return}try{const E=(await H.get(`${ke}/api/emails/auth/google`,{headers:{Authorization:`Bearer ${v}`}})).data.authUrl;window.location.href=E}catch(y){console.error("Error connecting to Gmail:",y),d(!1)}},j=async()=>{d(!0),window.location.href="/dashboard"},C=()=>{window.location.href="/dashboard"};return e.jsxs(K,{component:h.div,whileHover:{y:-4},transition:{type:"spring",stiffness:300},sx:{height:"100%",borderRadius:3,position:"relative",overflow:"hidden",border:`1px solid ${a(t.palette.primary.main,.2)}`,background:p?`linear-gradient(135deg, ${a(t.palette.background.paper,.8)}, ${a(t.palette.background.paper,.4)})`:`linear-gradient(135deg, ${t.palette.background.paper}, ${a(t.palette.primary.main,.05)})`,boxShadow:`0 8px 24px ${a(t.palette.primary.main,.15)}`,mt:{xs:2,sm:0},mr:{xs:0,sm:1}},children:[e.jsx(n,{sx:{position:"absolute",top:-20,right:-20,width:140,height:140,borderRadius:"50%",background:`radial-gradient(circle, ${a(t.palette.primary.main,.2)}, transparent 70%)`,zIndex:0}}),e.jsxs(Q,{sx:{position:"relative",zIndex:1,p:3},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(n,{sx:{bgcolor:a(t.palette.primary.main,p?.2:.1),color:t.palette.primary.main,borderRadius:"50%",width:48,height:48,display:"flex",alignItems:"center",justifyContent:"center",mr:2},children:e.jsx(re,{sx:{fontSize:26}})}),e.jsx(i,{component:"h2",variant:"h6",sx:{fontWeight:600},children:"AI Assistant"})]}),e.jsx(i,{variant:"body1",sx:{color:"text.secondary",mb:3,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:"Create your intelligent email assistant powered by AI. Connect your preferred email provider to get started."}),e.jsxs(q,{value:m,onChange:r,centered:!0,sx:{mb:2,"& .MuiTabs-flexContainer":{justifyContent:"space-around"},"& .MuiTab-root":{minWidth:"auto",px:{xs:1,sm:2},fontSize:{xs:"0.75rem",sm:"0.875rem"}}},children:[e.jsx(W,{icon:e.jsx(B,{}),iconPosition:"start",label:x?"":"Gmail",sx:{textTransform:"none"}}),e.jsx(W,{icon:e.jsx(G,{}),iconPosition:"start",label:x?"":"Outlook",sx:{textTransform:"none"}}),e.jsx(W,{icon:e.jsx(L,{}),iconPosition:"start",label:x?"":"Custom",sx:{textTransform:"none"}})]}),e.jsx(n,{sx:{display:m===0?"block":"none"},children:e.jsx(f,{variant:"contained",startIcon:o?null:e.jsx(B,{}),endIcon:o?null:e.jsx(A,{}),fullWidth:!0,onClick:g,disabled:o,disableElevation:!0,sx:{borderRadius:2,py:1.2,textTransform:"none",fontSize:{xs:"0.875rem",sm:"1rem"},fontWeight:600,background:"#DB4437","&:hover":{background:"#C53929"},boxShadow:`0 4px 12px ${a("#DB4437",.25)}`},children:o?e.jsx(T,{size:24,color:"inherit"}):"Connect Gmail"})}),e.jsx(n,{sx:{display:m===1?"block":"none"},children:e.jsx(f,{variant:"contained",startIcon:o?null:e.jsx(G,{}),endIcon:o?null:e.jsx(A,{}),fullWidth:!0,onClick:j,disabled:o,disableElevation:!0,sx:{borderRadius:2,py:1.2,textTransform:"none",fontSize:{xs:"0.875rem",sm:"1rem"},fontWeight:600,background:"#0078D4","&:hover":{background:"#006CBE"},boxShadow:`0 4px 12px ${a("#0078D4",.25)}`},children:o?e.jsx(T,{size:24,color:"inherit"}):"coming soon"})}),e.jsx(n,{sx:{display:m===2?"block":"none"},children:e.jsx(f,{variant:"contained",startIcon:o?null:e.jsx(L,{}),endIcon:o?null:e.jsx(A,{}),fullWidth:!0,onClick:C,disabled:o,disableElevation:!0,sx:{borderRadius:2,py:1.2,textTransform:"none",fontSize:{xs:"0.875rem",sm:"1rem"},fontWeight:600,background:t.palette.primary.main,"&:hover":{background:t.palette.primary.dark},boxShadow:`0 4px 12px ${a(t.palette.primary.main,.25)}`},children:o?e.jsx(T,{size:24,color:"inherit"}):"coming soon"})}),e.jsx(J,{sx:{my:2,opacity:.6}}),e.jsx(i,{variant:"caption",sx:{color:"text.secondary",display:"block",textAlign:"center"},children:"Connect your email to enable AI-powered email interactions"})]})]})}const we={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08}}},b={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:[.25,.1,.25,1]}}},Ce=({title:t,value:o,subtitle:d,icon:m,color:c="primary",progress:x,max:p})=>{const r=M(),g=r.palette.mode==="dark",j=D(r.breakpoints.down("sm"));return e.jsxs(R,{component:h.div,variants:b,sx:{p:{xs:1.5,sm:2.5},borderRadius:3,height:"100%",border:`1px solid ${a(r.palette.divider,.8)}`,background:g?`linear-gradient(145deg, ${a(r.palette.background.paper,.9)}, ${a(r.palette.background.paper,.6)})`:`linear-gradient(145deg, ${r.palette.background.paper}, ${a(r.palette[c].light,.07)})`,boxShadow:`0 4px 20px ${a(r.palette.common.black,g?.2:.05)}`,display:"flex",flexDirection:{xs:"row",sm:"column"},alignItems:{xs:"center",sm:"stretch"},justifyContent:{xs:"space-between",sm:"space-between"},transition:"all 0.3s ease","&:hover":{transform:{xs:"translateY(-2px)",sm:"translateY(-4px)"},boxShadow:`0 8px 25px ${a(r.palette[c].main,.15)}`,borderColor:a(r.palette[c].main,.3)}},children:[e.jsxs(n,{sx:{display:"flex",flexDirection:{xs:"row",sm:"column"},alignItems:{xs:"center",sm:"flex-start"},gap:{xs:2,sm:0},mb:{xs:0,sm:1.5}},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row",gap:3},children:[e.jsx(z,{sx:{bgcolor:a(r.palette[c].main,g?.2:.1),color:r.palette[c].main,width:{xs:32,sm:42},height:{xs:32,sm:42}},children:m}),d&&d.includes("%")&&e.jsx(_,{size:"small",icon:d.includes("-")?e.jsx(me,{fontSize:"small"}):e.jsx(pe,{fontSize:"small"}),label:d,color:d.includes("-")?"error":"success",variant:"outlined",sx:{borderRadius:1.5,height:24,display:{xs:"none",md:"flex"},"& .MuiChip-label":{px:1,fontWeight:600},"& .MuiChip-icon":{ml:.5}}}),typeof x<"u"&&typeof p<"u"&&e.jsxs(n,{sx:{width:"100%",mt:1,display:{xs:"none",sm:"block"}},children:[e.jsx(ee,{variant:"determinate",value:x/p*100,sx:{height:6,borderRadius:3,bgcolor:a(r.palette[c].main,.08),"& .MuiLinearProgress-bar":{bgcolor:r.palette[c].main}}}),e.jsxs(i,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.5,textAlign:"right"},children:[x," / ",p]})]})]}),e.jsxs(n,{sx:{display:{xs:"block",sm:"none"}},children:[e.jsx(i,{variant:j?"h6":"h4",sx:{fontWeight:700,mb:{xs:0,sm:.5}},children:o}),e.jsx(i,{variant:"caption",color:"text.secondary",sx:{fontWeight:500},children:t})]})]}),e.jsxs(n,{sx:{mb:typeof x<"u"?1:0,display:{xs:"none",sm:"block"}},children:[e.jsx(i,{variant:"h4",sx:{fontWeight:700,mb:.5},children:o}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{fontWeight:500},children:t})]})]})};function Ie(){const t=M(),[o,d]=u.useState([]),[m,c]=u.useState(!0),[x,p]=u.useState(null),[r,g]=u.useState("week"),[j,C]=u.useState(null),v=he(),y="https://replai.tech",V=new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}),$=async()=>{c(!0),p(null);try{const s=localStorage.getItem("token"),l=await H.get(`${y}/api/emails/stats?range=${r}`,{headers:{Authorization:`Bearer ${s}`}});d(l.data)}catch(s){console.error("Error fetching stats data:",s),p("An error occurred. Please try again later.")}finally{c(!1)}};u.useEffect(()=>{$();const s=setInterval($,5*60*1e3);return()=>clearInterval(s)},[r]);const P=()=>{$()},Y=s=>{C(s.currentTarget)},w=s=>{C(null),s&&g(s)};let I=localStorage.getItem("username")||"User";return I.length>20&&(I=I.split(" ")[0]),e.jsxs(n,{component:h.div,variants:we,initial:"hidden",animate:"visible",sx:{width:"100%",maxWidth:{sm:"100%",md:"1700px"},px:{xs:2,sm:3},py:{xs:2,sm:3}},children:[e.jsxs(n,{component:h.div,variants:b,sx:{mb:4,display:"flex",flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",md:"center"},gap:2},children:[e.jsxs(n,{sx:{display:"flex",flexDirection:"column",mt:{xs:7,md:4}},children:[e.jsxs(i,{variant:"h4",sx:{fontWeight:700,mb:.5,background:`linear-gradient(90deg, ${t.palette.primary.main} 0%, ${t.palette.mode==="dark"?a(t.palette.primary.main,.7):a(t.palette.primary.light,.7)} 100%)`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:["Welcome back, ",I]}),e.jsxs(i,{variant:"body1",color:"text.secondary",sx:{mb:2},children:[V," â€¢ Here's your dashboard overview"]})]}),e.jsxs(O,{direction:{xs:"column",sm:"row"},spacing:2,sx:{alignSelf:{xs:"stretch",sm:"auto"},mt:{xs:2,md:0}},children:[e.jsxs(f,{variant:"outlined",startIcon:e.jsx(ie,{}),endIcon:e.jsx(oe,{}),onClick:Y,sx:{borderRadius:2,borderColor:a(t.palette.divider,.6),bgcolor:a(t.palette.background.paper,.5),color:t.palette.text.primary,textTransform:"none",px:2,py:1,fontWeight:500},children:[r==="daily"&&"Today",r==="week"&&"This Week",r==="month"&&"This Month",r==="year"&&"This Year"]}),e.jsxs(X,{anchorEl:j,open:!!j,onClose:()=>w(),sx:{"& .MuiPaper-root":{borderRadius:2,mt:1,boxShadow:`0 8px 24px ${a(t.palette.common.black,.15)}`,border:`1px solid ${a(t.palette.divider,.6)}`}},elevation:0,children:[e.jsx(S,{onClick:()=>w("daily"),children:"Today"}),e.jsx(S,{onClick:()=>w("week"),children:"This Week"}),e.jsx(S,{onClick:()=>w("month"),children:"This Month"}),e.jsx(S,{onClick:()=>w("year"),children:"This Year"})]}),e.jsx(Z,{title:"Refresh data",children:e.jsxs(f,{variant:"contained",disableElevation:!0,startIcon:e.jsx(N,{}),onClick:P,sx:{borderRadius:2,textTransform:"none",px:2,py:1,fontWeight:500,boxShadow:`0 4px 14px ${a(t.palette.primary.main,.25)}`},children:["Refresh"," ",m&&e.jsx(T,{size:16,thickness:5,sx:{ml:1}})]})})]})]}),x?e.jsx(h.div,{variants:b,children:e.jsxs(R,{elevation:0,sx:{p:3,mb:4,borderRadius:3,border:"1px solid",borderColor:a(t.palette.error.main,.3),bgcolor:a(t.palette.error.main,.05),textAlign:"center"},children:[e.jsx(i,{color:"error",sx:{mb:2,fontWeight:500},children:x}),e.jsx(f,{variant:"outlined",color:"primary",startIcon:e.jsx(N,{}),onClick:P,sx:{borderRadius:2},children:"Try Again"})]})}):e.jsx(k,{container:!0,spacing:{xs:1,sm:2,md:3},sx:{mb:4},children:m?Array(4).fill(0).map((s,l)=>e.jsx(k,{xs:6,sm:6,md:4,lg:3,item:!0,children:e.jsxs(R,{component:h.div,variants:b,sx:{p:{xs:1.5,sm:2.5},borderRadius:3,height:"100%",display:"flex",flexDirection:{xs:"row",sm:"column"},alignItems:{xs:"center",sm:"flex-start"},gap:2},children:[e.jsx(n,{sx:{width:42,height:42,borderRadius:"50%",bgcolor:a(t.palette.action.disabled,.2),display:"flex",alignItems:"center",justifyContent:"center"}}),e.jsxs(n,{sx:{width:"100%"},children:[e.jsx(n,{sx:{height:32,width:"60%",mb:1,bgcolor:a(t.palette.action.disabled,.15),borderRadius:1}}),e.jsx(n,{sx:{height:16,width:"90%",bgcolor:a(t.palette.action.disabled,.1),borderRadius:.5}})]})]})},`skeleton-${l}`)):o.map(s=>{let l;switch(s.icon){case"MailOutlineIcon":l=U;break;case"AutorenewIcon":l=xe;break;case"NotesRoundedIcon":l=ce;break;case"TimerIcon":l=de;break;default:l=U}const F=`${s.change>0?"+":""}${s.change}%`;return e.jsx(k,{xs:6,sm:6,md:4,lg:3,item:!0,children:e.jsx(Ce,{title:s.title,value:s.value,subtitle:F,icon:e.jsx(l,{}),color:s.color})},s.id)})}),e.jsxs(k,{container:!0,spacing:1,sx:{mb:4},children:[e.jsx(k,{xs:12,md:6,lg:4,children:e.jsx(n,{component:h.div,variants:b,sx:{height:"100%"},children:e.jsx(ve,{})})}),e.jsx(k,{xs:12,md:6,lg:8,children:e.jsxs(R,{component:h.div,variants:b,elevation:0,sx:{p:3,height:"100%",borderRadius:3,border:`1px solid ${a(t.palette.divider,.7)}`,background:t.palette.mode==="dark"?`linear-gradient(145deg, ${a(t.palette.background.paper,.9)}, ${a(t.palette.background.paper,.6)})`:`linear-gradient(145deg, ${t.palette.background.paper}, ${a(t.palette.primary.light,.04)})`,display:"flex",flexDirection:"column",mt:{xs:3,md:1,lg:0}},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(z,{sx:{bgcolor:a(t.palette.info.main,t.palette.mode==="dark"?.2:.1),color:t.palette.info.main,width:42,height:42,mr:2},children:e.jsx(le,{})}),e.jsxs(n,{children:[e.jsx(i,{variant:"h6",sx:{fontWeight:600},children:"Quick Setup Guide"}),e.jsx(i,{variant:"body2",color:"text.secondary",children:"Complete these steps to get started"})]})]}),e.jsx(n,{sx:{flexGrow:1},children:[{title:"Connect your email account",done:!1},{title:"Create your first AI assistant",done:!1},{title:"Add training data",done:!1},{title:"Test your assistant",done:!1}].map((s,l)=>e.jsxs(n,{sx:{display:"flex",alignItems:"center",mb:2,p:1.5,borderRadius:2,bgcolor:s.done?a(t.palette.success.main,.08):"transparent"},children:[e.jsx(z,{sx:{width:28,height:28,mr:2,fontSize:"0.875rem",bgcolor:s.done?t.palette.success.main:a(t.palette.action.selected,.8)},children:l+1}),e.jsx(i,{variant:"body2",sx:{fontWeight:s.done?600:400,color:s.done?t.palette.success.main:t.palette.text.primary},children:s.title})]},l))}),e.jsx(f,{variant:"outlined",color:"info",fullWidth:!0,sx:{mt:2,borderRadius:2,textTransform:"none",fontWeight:600,py:1},onClick:()=>v("/docs"),children:"View Full Guide"})]})})]}),e.jsx(n,{component:h.div,variants:b,sx:{textAlign:"center",mt:6,mb:2,color:t.palette.text.secondary,fontSize:"0.875rem"}})]})}const Se={...je,...fe,...be,...ge};function Le(t){return e.jsxs(ue,{...t,themeComponents:Se,children:[e.jsx(te,{enableColorScheme:!0}),e.jsxs(n,{sx:{display:"flex"},children:[e.jsx(ae,{}),e.jsx(ne,{}),e.jsxs(n,{component:"main",sx:o=>({flexGrow:1,backgroundColor:a(o.palette.background.default,1),overflow:"auto"}),children:[e.jsxs(O,{spacing:1,sx:{alignItems:"center",mx:3,pb:5},children:[e.jsx(se,{}),e.jsx(Ie,{})]}),e.jsx(ye,{})]})]})]})}export{Le as default};
